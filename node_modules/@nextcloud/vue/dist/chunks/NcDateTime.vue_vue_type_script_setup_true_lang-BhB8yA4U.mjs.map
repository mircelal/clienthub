{"version":3,"file":"NcDateTime.vue_vue_type_script_setup_true_lang-BhB8yA4U.mjs","sources":["../../src/components/NcDateTime/NcDateTime.vue"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<docs>\n\n### General description\n\nThis components purpose is to display a timestamp in the users local time format.\nIt also supports relative time, for examples *6 seconds ago*.\n\n#### Standard usage\n\nWithout any optional parameters the timestamp is displayed as a relative datetime and a title with the full date is added.\n\n```vue\n<template>\n\t<NcDateTime :timestamp=\"timestamp\" />\n</template>\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t}\n\t\t},\n\t}\n</script>\n```\n\n#### Ignore seconds\n\nIf you do not want the seconds to be counted up until minutes are reached you can simply use the `ignore-seconds` property.\n\n```vue\n<template>\n\t<NcDateTime :timestamp=\"timestamp\" :ignore-seconds=\"true\" />\n</template>\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t}\n\t\t},\n\t}\n</script>\n```\n\n#### Custom date or time format\n\nThe component allows to format the full date for the title by settings the `format` property.\nIt is also possible to disable relative time by setting the `relativeTime` property to `false`.\n\n```vue\n<template>\n\t<div>\n\t\t<h4>Short relative time</h4>\n\t\t<NcDateTime :timestamp=\"timestamp\" relative-time=\"short\" />\n\n\t\t<h4>Custom title format</h4>\n\t\t<NcDateTime :timestamp=\"timestamp\" :format=\"timeFormat\" />\n\n\t\t<h4>Without relative time</h4>\n\t\t<NcDateTime :timestamp=\"timestamp\" :format=\"timeFormat\" :relative-time=\"false\" />\n\t</div>\n</template>\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t/** For allowed formats see the Intl.DateTimeFormat options */\n\t\t\t\ttimeFormat: {\n\t\t\t\t\tdateStyle: 'short',\n\t\t\t\t\ttimeStyle: 'full'\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t}\n</script>\n<style>\nh4 {\n\tfont-weight: bold;\n\tmargin-top: 12px;\n}\n</style>\n```\n</docs>\n\n<template>\n\t<span\n\t\tclass=\"nc-datetime\"\n\t\tdir=\"auto\"\n\t\t:data-timestamp=\"timestamp\"\n\t\t:title\n\t\tv-text=\"formattedTime\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, toRef } from 'vue'\nimport { useFormatRelativeTime, useFormatTime } from '../../composables/useFormatDateTime/index.ts'\n\nconst props = withDefaults(defineProps<{\n\t/**\n\t * The timestamp to display, either an unix timestamp (in milliseconds) or a Date object\n\t */\n\ttimestamp: Date | number\n\n\t/**\n\t * The format used for displaying, or if relative time is used the format used for the title (optional)\n\t */\n\tformat?: Intl.DateTimeFormatOptions\n\n\t/**\n\t * Wether to display the timestamp as time from now (optional)\n\t *\n\t * - `false`: Disable relative time\n\t * - `'long'`: Long text, like *2 seconds ago* (default)\n\t * - `'short'`: Short text, like *2 sec. ago*\n\t * - `'narrow'`: Even shorter text (same as `'short'` on some languages)\n\t */\n\trelativeTime?: false | 'long' | 'short' | 'narrow'\n\n\t/**\n\t * Ignore seconds when displaying the relative time and just show `a few seconds ago`\n\t */\n\tignoreSeconds?: boolean\n}>(), {\n\tformat: () => ({ timeStyle: 'medium', dateStyle: 'short' }),\n\trelativeTime: 'long',\n})\n\nconst timeOptions = computed(() => ({ format: props.format }))\nconst relativeTimeOptions = computed(() => ({\n\tignoreSeconds: props.ignoreSeconds,\n\trelativeTime: props.relativeTime || 'long',\n\tupdate: props.relativeTime !== false,\n}))\n\nconst title = useFormatTime(toRef(() => props.timestamp), timeOptions)\nconst relativeTime = useFormatRelativeTime(toRef(() => props.timestamp), relativeTimeOptions)\n\nconst formattedTime = computed(() => props.relativeTime ? relativeTime.value : title.value)\n</script>\n"],"names":["_createElementBlock","timestamp","_unref","_toDisplayString"],"mappings":";;;;;;;;;;;;AAwGA,UAAM,QAAQ;AA8Bd,UAAM,cAAc,SAAS,OAAO,EAAE,QAAQ,MAAM,SAAS;AAC7D,UAAM,sBAAsB,SAAS,OAAO;AAAA,MAC3C,eAAe,MAAM;AAAA,MACrB,cAAc,MAAM,gBAAgB;AAAA,MACpC,QAAQ,MAAM,iBAAiB;AAAA,IAAA,EAC9B;AAEF,UAAM,QAAQ,cAAc,MAAM,MAAM,MAAM,SAAS,GAAG,WAAW;AACrE,UAAM,eAAe,sBAAsB,MAAM,MAAM,MAAM,SAAS,GAAG,mBAAmB;AAE5F,UAAM,gBAAgB,SAAS,MAAM,MAAM,eAAe,aAAa,QAAQ,MAAM,KAAK;;0BApDzFA,mBAK0B,QAAA;AAAA,QAJzB,OAAM;AAAA,QACN,KAAI;AAAA,QACH,kBAAgBC,KAAAA;AAAAA,QAChB,OAAAC,MAAA,KAAA;AAAA,QACD,aAAAC,gBAAQ,cAAc,KAAD;AAAA,MAAA;;;;"}