{"version":3,"file":"NcAppSidebarTab-Cjetm3Fs.mjs","sources":["../../src/components/NcAppSidebarTab/NcAppSidebarTab.vue"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<!-- Follows the tab aria guidelines\n\thttps://www.w3.org/TR/wai-aria-practices/examples/tabs/tabs-1/tabs.html -->\n\n<template>\n\t<section\n\t\t:id=\"`tab-${id}`\"\n\t\t:aria-hidden=\"!isActive\"\n\t\t:aria-label=\"isTablistShown() ? undefined : name\"\n\t\t:aria-labelledby=\"isTablistShown() ? `tab-button-${id}` : undefined\"\n\t\tclass=\"app-sidebar__tab\"\n\t\t:class=\"{ 'app-sidebar__tab--active': isActive }\"\n\t\t:role=\"isTablistShown() ? 'tabpanel' : undefined\"\n\t\t:tabindex=\"isTablistShown() ? 0 : -1\"\n\t\t@scroll=\"onScroll\">\n\t\t<h3 class=\"hidden-visually\">\n\t\t\t{{ name }}\n\t\t</h3>\n\t\t<!-- @slot Tab panel content -->\n\t\t<slot />\n\t</section>\n</template>\n\n<script>\nexport default {\n\tname: 'NcAppSidebarTab',\n\n\tinject: ['registerTab', 'unregisterTab', 'getActiveTab', 'isTablistShown'],\n\n\tprops: {\n\t\t/**\n\t\t * Unique id of the sidebar tab\n\t\t */\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\n\t\t/**\n\t\t * Tab name in navigation\n\t\t */\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\n\t\t/**\n\t\t * Tab icon's html class in navigation. Used if #icon slot is not provided\n\t\t */\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\n\t\t/**\n\t\t * Tab order in navigation. If not provided, name is used.\n\t\t */\n\t\torder: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t},\n\n\temits: [\n\t\t'bottomReached',\n\t\t'scroll',\n\t],\n\n\texpose: ['id', 'name', 'icon', 'order', 'renderIcon'],\n\n\tcomputed: {\n\t\t/**\n\t\t * Is the current tab an active tab, that should be shown?\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tisActive() {\n\t\t\treturn this.getActiveTab() === this.id\n\t\t},\n\t},\n\n\tcreated() {\n\t\t// As the tab is created - register it in the tabs component\n\t\t// It's better to provide computed tab object, not component instance as it easy\n\t\tthis.registerTab(this)\n\t},\n\n\tbeforeUnmount() {\n\t\t// Unregister the tab from tabs\n\t\tthis.unregisterTab(this.id)\n\t},\n\n\tmethods: {\n\t\tonScroll(event) {\n\t\t\t// Are we scrolled to the very bottom ?\n\t\t\tif (this.$el.scrollHeight - this.$el.scrollTop === this.$el.clientHeight) {\n\t\t\t\t/**\n\t\t\t\t * Bottom scroll is reached\n\t\t\t\t *\n\t\t\t\t * @property {Event} event Native scroll event\n\t\t\t\t */\n\t\t\t\tthis.$emit('bottomReached', event)\n\t\t\t}\n\t\t\t/**\n\t\t\t * @property {Event} event Native scroll event\n\t\t\t */\n\t\t\tthis.$emit('scroll', event)\n\t\t},\n\n\t\t/**\n\t\t * Render tab's icon slot if any\n\t\t *\n\t\t * @return {import('vue').VNode[]}\n\t\t */\n\t\trenderIcon() {\n\t\t\treturn this.$slots.icon?.()\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-sidebar__tab {\n\tdisplay: none;\n\tpadding: 10px;\n\tmin-height: 100%; // fill available height\n\tmax-height: 100%; // scroll inside\n\theight: 100%;\n\toverflow: auto;\n\n\t&:focus {\n\t\tborder-color: var(--color-primary-element);\n\t\tbox-shadow: 0 0 0.2em var(--color-primary-element);\n\t\toutline: 0;\n\t}\n\n\t&--active {\n\t\tdisplay: block;\n\t}\n}\n</style>\n"],"names":["_createElementBlock","_normalizeClass","_createElementVNode","_toDisplayString","_renderSlot"],"mappings":";;AA4BA,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EAEN,QAAQ,CAAC,eAAe,iBAAiB,gBAAgB,gBAAgB;AAAA,EAEzE,OAAO;AAAA;AAAA;AAAA;AAAA,IAIN,IAAI;AAAA,MACH,MAAM;AAAA,MACN,UAAU;AAAA;;;;IAMX,MAAM;AAAA,MACL,MAAM;AAAA,MACN,UAAU;AAAA;;;;IAMX,MAAM;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA;;;;IAMV,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA;;EAIX,OAAO;AAAA,IACN;AAAA,IACA;AAAA;EAGD,QAAQ,CAAC,MAAM,QAAQ,QAAQ,SAAS,YAAY;AAAA,EAEpD,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMT,WAAW;AACV,aAAO,KAAK,aAAY,MAAO,KAAK;AAAA,IACrC;AAAA;EAGD,UAAU;AAGT,SAAK,YAAY,IAAI;AAAA,EACtB;AAAA,EAEA,gBAAgB;AAEf,SAAK,cAAc,KAAK,EAAE;AAAA,EAC3B;AAAA,EAEA,SAAS;AAAA,IACR,SAAS,OAAO;AAEf,UAAI,KAAK,IAAI,eAAe,KAAK,IAAI,cAAc,KAAK,IAAI,cAAc;AAMzE,aAAK,MAAM,iBAAiB,KAAK;AAAA,MAClC;AAIA,WAAK,MAAM,UAAU,KAAK;AAAA,IAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,aAAa;AACZ,aAAO,KAAK,OAAO,OAAI;AAAA,IACxB;AAAA;AAEF;;AAvGM,MAAA,aAAA,EAAA,OAAM,kBAAiB;;sBAV5BA,mBAeU,WAAA;AAAA,IAdR,WAAW,OAAA,EAAE;AAAA,IACb,gBAAc,SAAA;AAAA,IACd,cAAY,SAAA,eAAc,IAAK,SAAY,OAAA;AAAA,IAC3C,mBAAiB,SAAA,mBAAc,cAAmB,OAAA,EAAE,KAAK;AAAA,IAC1D,OAAKC,eAAA,CAAC,oBAAkB,EAAA,4BACc,SAAA,SAAQ,CAAA,CAAA;AAAA,IAC7C,MAAM,SAAA,eAAc,IAAA,aAAkB;AAAA,IACtC,UAAU,SAAA,eAAc,IAAA,IAAA;AAAA,IACxB,iDAAQ,SAAA,YAAA,SAAA,SAAA,GAAA,IAAA;AAAA;IACTC,mBAEK,MAFL,YAEKC,gBADD,OAAA,IAAI,GAAA,CAAA;AAAA,IAGRC,WAAQ,KAAA,QAAA,WAAA,CAAA,GAAA,QAAA,IAAA;AAAA;;;"}