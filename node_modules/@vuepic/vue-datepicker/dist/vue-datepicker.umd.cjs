(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function tt(){const t=e.useAttrs();return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}tt.compatConfig={MODE:3};function sn(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}sn.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Dt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}St.compatConfig={MODE:3};function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Ct.compatConfig={MODE:3};function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Bt.compatConfig={MODE:3};function $t(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}$t.compatConfig={MODE:3};const Pe=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Tt=(t,n,l)=>{const r=At(t,n,l);return r||H()},Hn=(t,n,l)=>{const r=n.dateInTz?Pe(new Date(t),n.dateInTz):H(t);return l?Ce(r,!0):r},At=(t,n,l)=>{if(!t)return null;const r=l?Ce(H(t),!0):H(t);return n?n.exactMatch?Hn(t,n,l):Pe(r,n.timezone):r},Wn=t=>{const l=new Date(t.getFullYear(),0,1).getTimezoneOffset();return t.getTimezoneOffset()<l},Un=(t,n)=>{if(!t)return 0;const l=new Date,r=new Date(l.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(l.toLocaleString("en-US",{timeZone:t})),c=(Wn(n??a)?a:n??a).getTimezoneOffset()/60;return(+r-+a)/(1e3*60*60)-c};var Ye=(t=>(t.month="month",t.year="year",t))(Ye||{}),Ve=(t=>(t.top="top",t.bottom="bottom",t))(Ve||{}),Xe=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Xe||{}),Be=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Be||{});const jn=["timestamp","date","iso"];var Te=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Te||{}),ge=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(ge||{}),nt=(t=>(t.MONTH_AND_YEAR="MM-yyyy",t.YEAR="yyyy",t.DATE="dd-MM-yyyy",t))(nt||{});function un(t){return n=>{const l=new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`));return t==="ar"?l.slice(2,5):l.slice(0,2)}}function xn(t){return n=>s.format(Pe(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const Kn=(t,n,l)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(xn(t))}catch{a=r.map(un(n))}else a=r.map(un(n));const m=a.slice(0,l),c=a.slice(l+1,a.length);return[a[l]].concat(...c).concat(...m)},Pt=(t,n,l)=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:Et(a,n)});return l?r.reverse():r},cn=(t,n,l)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const c=m<10?`0${m}`:m;return new Date(`2017-${c}-01T00:00:00+00:00`)});if(t!==null)try{const m=l==="long"?"LLLL":"LLL";return r.map((c,h)=>{const d=s.format(Pe(c,"UTC"),m,{locale:t});return{text:d.charAt(0).toUpperCase()+d.substring(1),value:h}})}catch{}const a=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return r.map((m,c)=>{const h=a.format(m);return{text:h.charAt(0).toUpperCase()+h.substring(1),value:c}})},qn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],De=t=>{const n=e.unref(t);return n?.$el?n?.$el:n},Gn=t=>({type:"dot",...t??{}}),dn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Rt={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Se=t=>t,fn=t=>t===0?t:!t||isNaN(+t)?null:+t,mn=t=>t===null,pn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Qn=t=>{const n=[],l=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(l(a))}return n},st=(t,n,l)=>{const r=l!=null,a=n!=null;if(!r&&!a)return!1;const m=+l,c=+n;return r&&a?+t>m||+t<c:r?+t>m:a?+t<c:!1},at=(t,n)=>Qn(t).map(l=>l.map(r=>{const{active:a,disabled:m,isBetween:c,highlighted:h}=n(r);return{...r,active:a,disabled:m,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:m,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:m&&a,dp__cell_in_between:c,"dp--highlighted":h}}})),Ue=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},Xn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Jn(t,n){let l=[...document.querySelectorAll(Xn())];l=l.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=l.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=l.length))return l[r+(n?-1:1)]}const Nt=(t,n)=>t?.querySelector(`[data-dp-element="${n}"]`),Et=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Ot=(t,n)=>s.format(t,n??nt.DATE),Yt=t=>Array.isArray(t),pt=(t,n,l)=>n.get(Ot(t,l)),Zn=(t,n)=>t?n?n instanceof Map?!!pt(t,n):n(H(t)):!1:!0,Ae=(t,n,l=!1,r)=>{if(t.key===ge.enter||t.key===ge.space)return l&&t.preventDefault(),n();if(r)return r(t)},Fn=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,gn=(t,n)=>t?nt.MONTH_AND_YEAR:n?nt.YEAR:nt.DATE,yn=t=>t<10?`0${t}`:t,hn=(t,n,l,r,a,m)=>{const c=s.parse(t,n.slice(0,t.length),new Date,{locale:m});return s.isValid(c)&&s.isDate(c)?r||a?c:s.set(c,{hours:+l.hours,minutes:+l?.minutes,seconds:+l?.seconds,milliseconds:0}):null},ea=(t,n,l,r,a,m)=>{const c=Array.isArray(l)?l[0]:l;if(typeof n=="string")return hn(t,n,c,r,a,m);if(Array.isArray(n)){let h=null;for(const d of n)if(h=hn(t,d,c,r,a,m),h)break;return h}return typeof n=="function"?n(t):null},H=t=>t?new Date(t):new Date,ta=(t,n,l)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),m=t.getDate().toString().padStart(2,"0"),c=t.getHours().toString().padStart(2,"0"),h=t.getMinutes().toString().padStart(2,"0"),d=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${m}T${c}:${h}:${d}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Ce=(t,n)=>{const l=H(JSON.parse(JSON.stringify(t))),r=s.set(l,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?s.startOfMonth(r):r},je=(t,n,l,r)=>{let a=t?H(t):H();return(n||n===0)&&(a=s.setHours(a,+n)),(l||l===0)&&(a=s.setMinutes(a,+l)),(r||r===0)&&(a=s.setSeconds(a,+r)),s.setMilliseconds(a,0)},ke=(t,n)=>!t||!n?!1:s.isBefore(Ce(t),Ce(n)),me=(t,n)=>!t||!n?!1:s.isEqual(Ce(t),Ce(n)),be=(t,n)=>!t||!n?!1:s.isAfter(Ce(t),Ce(n)),it=(t,n,l)=>t?.[0]&&t?.[1]?be(l,t[0])&&ke(l,t[1]):t?.[0]&&n?be(l,t[0])&&ke(l,n)||ke(l,t[0])&&be(l,n):!1,_e=t=>{const n=s.set(new Date(t),{date:1});return Ce(n)},Vt=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,l]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Je=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),kn=(t,n)=>{if(n){const l=s.getYear(H(n));if(l>t)return 12;if(l===t)return s.getMonth(H(n))}},bn=(t,n)=>{if(n){const l=s.getYear(H(n));return l<t?-1:l===t?s.getMonth(H(n)):void 0}},rt=t=>{if(t)return s.getYear(H(t))},vn=(t,n)=>{const l=be(t,n)?n:t,r=be(n,t)?n:t;return s.eachDayOfInterval({start:l,end:r})},na=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},Le=(t,n)=>{const l=s.startOfWeek(t,{weekStartsOn:+n}),r=s.endOfWeek(t,{weekStartsOn:+n});return[l,r]},wn=(t,n)=>{const l={hours:s.getHours(H()),minutes:s.getMinutes(H()),seconds:n?s.getSeconds(H()):0};return Object.assign(l,t)},xe=(t,n,l)=>[s.set(H(t),{date:1}),s.set(H(),{month:n,year:l,date:1})],He=(t,n,l)=>{let r=t?H(t):H();return(n||n===0)&&(r=s.setMonth(r,n)),l&&(r=s.setYear(r,l)),r},Mn=(t,n,l,r,a)=>{if(!r||a&&!n||!a&&!l)return!1;const m=a?s.addMonths(t,1):s.subMonths(t,1),c=[s.getMonth(m),s.getYear(m)];return a?!ra(...c,n):!aa(...c,l)},aa=(t,n,l)=>ke(...xe(l,t,n))||me(...xe(l,t,n)),ra=(t,n,l)=>be(...xe(l,t,n))||me(...xe(l,t,n)),Dn=(t,n,l,r,a,m,c)=>{if(typeof n=="function"&&!c)return n(t);const h=l?{locale:l}:void 0;return Array.isArray(t)?`${s.format(t[0],m,h)}${a&&!t[1]?"":r}${t[1]?s.format(t[1],m,h):""}`:s.format(t,m,h)},lt=t=>{if(t)return null;throw new Error(Rt.prop("partial-range"))},gt=(t,n)=>{if(n)return t();throw new Error(Rt.prop("range"))},_t=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,la=(t,n)=>s.set(n??H(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),It=(t,n,l,r)=>{if(!t)return!0;if(r){const a=l==="max"?s.isBefore(t,n):s.isAfter(t,n),m={seconds:0,milliseconds:0};return a||s.isEqual(s.set(t,m),s.set(n,m))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},zt=(t,n,l)=>t?la(t,n):H(l??n),Sn=(t,n,l,r,a)=>{if(Array.isArray(r)){const c=zt(t,r[0],n),h=zt(t,r[1],n);return It(r[0],c,l,!!n)&&It(r[1],h,l,!!n)&&a}const m=zt(t,r,n);return It(r,m,l,!!n)&&a},Lt=t=>s.set(H(),Je(t)),oa=(t,n,l)=>{if(t instanceof Map){const r=`${yn(l+1)}-${n}`;return t.size?t.has(r):!1}return typeof t=="function"?t(Ce(s.set(H(),{month:l,year:n}),!0)):!1},sa=(t,n,l)=>{if(t instanceof Map){const r=`${yn(l+1)}-${n}`;return t.size?t.has(r):!0}return!0},Cn=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(r=>r.month===n&&r.year===l),Ht=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Wt=t=>`dp-${s.format(t,"yyyy-MM-dd")}`,Bn=(t,n)=>{const l=s.subDays(Ce(n),t),r=s.addDays(Ce(n),t);return{before:l,after:r}},$n=(t,n)=>n<+t[0]||n>+t[1],ut=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Tn=()=>{const t=r=>{ut.menuFocused=r},n=r=>{ut.shiftKeyInMenu!==r&&(ut.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:ut.shiftKeyInMenu,menuFocused:ut.menuFocused})),setMenuFocused:t,setShiftKey:n}},ye=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Ut=e.ref(null),yt=e.ref(!1),jt=e.ref(!1),xt=e.ref(!1),Kt=e.ref(!1),$e=e.ref(0),ve=e.ref(0),Ke=()=>{const t=e.computed(()=>yt.value?[...ye.selectionGrid,ye.actionRow].filter(D=>D.length):jt.value?[...ye.timePicker[0],...ye.timePicker[1],Kt.value?[]:[Ut.value],ye.actionRow].filter(D=>D.length):xt.value?[...ye.monthPicker,ye.actionRow]:[ye.monthYear,...ye.calendar,ye.time,ye.actionRow].filter(D=>D.length)),n=D=>{$e.value=D?$e.value+1:$e.value-1;let C=null;t.value[ve.value]&&(C=t.value[ve.value][$e.value]),!C&&t.value[ve.value+(D?1:-1)]?(ve.value=ve.value+(D?1:-1),$e.value=D?0:t.value[ve.value].length-1):C||($e.value=D?$e.value-1:$e.value+1)},l=D=>{if(ve.value===0&&!D||ve.value===t.value.length&&D)return;ve.value=D?ve.value+1:ve.value-1,t.value[ve.value]?t.value[ve.value]&&!t.value[ve.value][$e.value]&&$e.value!==0&&($e.value=t.value[ve.value].length-1):ve.value=D?ve.value-1:ve.value+1},r=D=>{let C=null;t.value[ve.value]&&(C=t.value[ve.value][$e.value]),C?C.focus({preventScroll:!yt.value}):$e.value=D?$e.value-1:$e.value+1},a=()=>{n(!0),r(!0)},m=()=>{n(!1),r(!1)},c=()=>{l(!1),r(!0)},h=()=>{l(!0),r(!0)},d=(D,C)=>{ye[C]=D},T=(D,C)=>{ye[C]=D},p=()=>{$e.value=0,ve.value=0};return{buildMatrix:d,buildMultiLevelMatrix:T,setTimePickerBackRef:D=>{Ut.value=D},setSelectionGrid:D=>{yt.value=D,p(),D||(ye.selectionGrid=[])},setTimePicker:(D,C=!1)=>{jt.value=D,Kt.value=C,p(),D||(ye.timePicker[0]=[],ye.timePicker[1]=[])},setTimePickerElements:(D,C=0)=>{ye.timePicker[C]=D},arrowRight:a,arrowLeft:m,arrowUp:c,arrowDown:h,clearArrowNav:()=>{ye.monthYear=[],ye.calendar=[],ye.time=[],ye.actionRow=[],ye.selectionGrid=[],ye.timePicker[0]=[],ye.timePicker[1]=[],yt.value=!1,jt.value=!1,Kt.value=!1,xt.value=!1,p(),Ut.value=null},setMonthPicker:D=>{xt.value=D,p()},refSets:ye}},An=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),ia=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:n=>`Month picker${n?" overlay":""}`,yearPicker:n=>`Year picker${n?" overlay":""}`,timeOverlay:n=>`${n} overlay`,...t??{}}),Pn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,ua=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:Pn(!1)};const r=n?t:{},a=n?r.count??!0:t,m=Pn(a);return Object.assign(l,r,{count:m})},ca=(t,n,l)=>t||(typeof l=="string"?l:n),da=t=>typeof t=="boolean"?t?An({}):!1:An(t),fa=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},ma=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),pa=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),ga=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},ya=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1},...t??{}}),ha=t=>{const n={dates:Array.isArray(t)?t.map(l=>H(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},ka=t=>typeof t=="object"?{type:t?.type??"local",hideOnOffsetDates:t?.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},ba=t=>{const n={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...n,...t}:{enabled:t,...n}},va=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},qt=(t,n,l,r)=>new Map(t.map(a=>{const m=Tt(a,n,r);return[Ot(m,l),m]})),wa=(t,n)=>t.length?new Map(t.map(l=>{const r=Tt(l.date,n);return[Ot(r,nt.DATE),l]})):null,Ma=t=>{const n=gn(t.isMonthPicker,t.isYearPicker);return{minDate:At(t.minDate,t.timezone,t.isSpecific),maxDate:At(t.maxDate,t.timezone,t.isSpecific),disabledDates:Yt(t.disabledDates)?qt(t.disabledDates,t.timezone,n,t.isSpecific):t.disabledDates,allowedDates:Yt(t.allowedDates)?qt(t.allowedDates,t.timezone,n,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Yt(t.highlight?.dates)?qt(t.highlight.dates,t.timezone,n):t.highlight,markers:wa(t.markers,t.timezone)}},Da=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Sa=t=>({...Object.fromEntries(Object.keys(t).map(l=>{const r=l,a=t[r],m=typeof t[r]=="string"?{[a]:!0}:Object.fromEntries(a.map(c=>[c,!0]));return[l,m]}))}),he=t=>{const n=()=>{const W=t.enableSeconds?":ss":"",S=t.enableMinutes?":mm":"";return t.is24?`HH${S}${W}`:`hh${S}${W} aa`},l=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${P.value?.type==="iso"?"II":"ww"}-RR`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy",r=W=>wn(W,t.enableSeconds),a=()=>L.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,m=e.computed(()=>ua(t.multiCalendars)),c=e.computed(()=>a()),h=e.computed(()=>ia(t.ariaLabels)),d=e.computed(()=>ma(t.filters)),T=e.computed(()=>da(t.transitions)),p=e.computed(()=>pa(t.actionRow)),A=e.computed(()=>ca(t.previewFormat,t.format,l())),b=e.computed(()=>fa(t.textInput)),B=e.computed(()=>ga(t.inline)),z=e.computed(()=>ya(t.config)),E=e.computed(()=>ha(t.highlight)),P=e.computed(()=>ka(t.weekNumbers)),D=e.computed(()=>va(t.timezone)),C=e.computed(()=>Da(t.multiDates)),g=e.computed(()=>Ma({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:E.value,markers:t.markers,timezone:D.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker,isMonthPicker:t.monthPicker,isYearPicker:t.yearPicker})),L=e.computed(()=>ba(t.range)),I=e.computed(()=>Sa(t.ui));return{defaultedTransitions:T,defaultedMultiCalendars:m,defaultedStartTime:c,defaultedAriaLabels:h,defaultedFilters:d,defaultedActionRow:p,defaultedPreviewFormat:A,defaultedTextInput:b,defaultedInline:B,defaultedConfig:z,defaultedHighlight:E,defaultedWeekNumbers:P,defaultedRange:L,propDates:g,defaultedTz:D,defaultedMultiDates:C,defaultedUI:I,getDefaultPattern:l,getDefaultStartTime:a,handleEventPropagation:W=>{z.value.allowStopPropagation&&W.stopPropagation(),z.value.allowPreventDefault&&W.preventDefault()}}},Ca=(t,n,{isInputFocused:l,isTextInputDate:r})=>{const a=e.ref(),{defaultedTextInput:m,defaultedRange:c,defaultedTz:h,defaultedMultiDates:d,getDefaultPattern:T}=he(n),p=e.ref(""),A=e.toRef(n,"format"),b=e.toRef(n,"formatLocale");e.watch(a,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",a.value,Q(!0))},{deep:!0}),e.watch(c,(i,q)=>{i.enabled!==q.enabled&&(a.value=null)}),e.watch(A,()=>{$()});const B=i=>h.value.timezone&&h.value.convertModel?Pe(i,h.value.timezone):i,z=i=>{if(h.value.timezone&&h.value.convertModel){const q=Un(h.value.timezone,i);return s.addHours(i,q)}return i},E=(i,q,N=!1)=>Dn(i,n.format,n.formatLocale,m.value.rangeSeparator,n.modelAuto,q??T(),N),P=i=>i?n.modelType?w(i):{hours:s.getHours(i),minutes:s.getMinutes(i),seconds:n.enableSeconds?s.getSeconds(i):0}:null,D=i=>n.modelType?w(i):{month:s.getMonth(i),year:s.getYear(i)},C=i=>Array.isArray(i)?d.value.enabled?i.map(q=>g(q,s.setYear(H(),q))):gt(()=>[s.setYear(H(),i[0]),i[1]?s.setYear(H(),i[1]):lt(c.value.partialRange)],c.value.enabled):s.setYear(H(),+i),g=(i,q)=>(typeof i=="string"||typeof i=="number")&&n.modelType?K(i):q,L=i=>Array.isArray(i)?[g(i[0],je(null,+i[0].hours,+i[0].minutes,i[0].seconds)),g(i[1],je(null,+i[1].hours,+i[1].minutes,i[1].seconds))]:g(i,je(null,i.hours,i.minutes,i.seconds)),I=i=>{const q=s.set(H(),{date:1});return Array.isArray(i)?d.value.enabled?i.map(N=>g(N,He(q,+N.month,+N.year))):gt(()=>[g(i[0],He(q,+i[0].month,+i[0].year)),g(i[1],i[1]?He(q,+i[1].month,+i[1].year):lt(c.value.partialRange))],c.value.enabled):g(i,He(q,+i.month,+i.year))},ee=i=>{if(Array.isArray(i))return i.map(q=>K(q));throw new Error(Rt.dateArr("multi-dates"))},W=i=>{if(Array.isArray(i)&&c.value.enabled){const q=i[0],N=i[1];return[H(Array.isArray(q)?q[0]:null),Array.isArray(N)&&N.length?H(N[0]):null]}return H(i[0])},S=i=>n.modelAuto?Array.isArray(i)?[K(i[0]),K(i[1])]:n.autoApply?[K(i)]:[K(i),null]:Array.isArray(i)?gt(()=>i[1]?[K(i[0]),i[1]?K(i[1]):lt(c.value.partialRange)]:[K(i[0])],c.value.enabled):K(i),X=()=>{Array.isArray(a.value)&&c.value.enabled&&a.value.length===1&&a.value.push(lt(c.value.partialRange))},R=()=>{const i=a.value;return[w(i[0]),i[1]?w(i[1]):lt(c.value.partialRange)]},G=()=>Array.isArray(a.value)?a.value[1]?R():w(Se(a.value[0])):[],oe=()=>(a.value||[]).map(i=>w(i)),ce=(i=!1)=>(i||X(),n.modelAuto?G():d.value.enabled?oe():Array.isArray(a.value)?gt(()=>R(),c.value.enabled):w(Se(a.value))),y=i=>!i||Array.isArray(i)&&!i.length?null:n.timePicker?L(Se(i)):n.monthPicker?I(Se(i)):n.yearPicker?C(Se(i)):d.value.enabled?ee(Se(i)):n.weekPicker?W(Se(i)):S(Se(i)),O=i=>{if(r.value)return;const q=y(i);_t(Se(q))?(a.value=Se(q),$()):(a.value=null,p.value="")},J=()=>{const i=q=>s.format(q,m.value.format);return`${i(a.value[0])} ${m.value.rangeSeparator} ${a.value[1]?i(a.value[1]):""}`},k=()=>l.value&&a.value?Array.isArray(a.value)?J():s.format(a.value,m.value.format):E(a.value),U=()=>a.value?d.value.enabled?a.value.map(i=>E(i)).join("; "):m.value.enabled&&typeof m.value.format=="string"?k():E(a.value):"",$=()=>{!n.format||typeof n.format=="string"||m.value.enabled&&typeof m.value.format=="string"?p.value=U():p.value=n.format(a.value)},K=i=>{if(n.utc){const q=new Date(i);return n.utc==="preserve"?new Date(q.getTime()+q.getTimezoneOffset()*6e4):q}return n.modelType?jn.includes(n.modelType)?B(new Date(i)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?B(s.parse(i,T(),new Date,{locale:b.value})):B(s.parse(i,n.modelType,new Date,{locale:b.value})):B(new Date(i))},w=i=>i?n.utc?ta(i,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+z(i):n.modelType==="iso"?z(i).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?E(z(i)):E(z(i),n.modelType,!0):z(i):"",ae=(i,q=!1,N=!1)=>{if(N)return i;if(t("update:model-value",i),h.value.emitTimezone&&q){const fe=Array.isArray(i)?i.map(pe=>Pe(Se(pe),h.value.emitTimezone)):Pe(Se(i),h.value.emitTimezone);t("update:model-timezone-value",fe)}},u=i=>Array.isArray(a.value)?d.value.enabled?a.value.map(q=>i(q)):[i(a.value[0]),a.value[1]?i(a.value[1]):lt(c.value.partialRange)]:i(Se(a.value)),te=()=>{if(Array.isArray(a.value)){const i=Le(a.value[0],n.weekStart),q=a.value[1]?Le(a.value[1],n.weekStart):[];return[i.map(N=>H(N)),q.map(N=>H(N))]}return Le(a.value,n.weekStart).map(i=>H(i))},x=(i,q)=>ae(Se(u(i)),!1,q),Y=i=>{const q=te();return i?q:t("update:model-value",te())},Q=(i=!1)=>(i||$(),n.monthPicker?x(D,i):n.timePicker?x(P,i):n.yearPicker?x(s.getYear,i):n.weekPicker?Y(i):ae(ce(i),!0,i));return{inputValue:p,internalModelValue:a,checkBeforeEmit:()=>a.value?c.value.enabled?c.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:O,formatInputValue:$,emitModelValue:Q}},Ba=(t,n)=>{const{defaultedFilters:l,propDates:r}=he(t),{validateMonthYearInRange:a}=Ge(t),m=(p,A)=>{let b=p;return l.value.months.includes(s.getMonth(b))?(b=A?s.addMonths(p,1):s.subMonths(p,1),m(b,A)):b},c=(p,A)=>{let b=p;return l.value.years.includes(s.getYear(b))?(b=A?s.addYears(p,1):s.subYears(p,1),c(b,A)):b},h=(p,A=!1)=>{const b=s.set(H(),{month:t.month,year:t.year});let B=p?s.addMonths(b,1):s.subMonths(b,1);t.disableYearSelect&&(B=s.setYear(B,t.year));let z=s.getMonth(B),E=s.getYear(B);l.value.months.includes(z)&&(B=m(B,p),z=s.getMonth(B),E=s.getYear(B)),l.value.years.includes(E)&&(B=c(B,p),E=s.getYear(B)),a(z,E,p,t.preventMinMaxNavigation)&&d(z,E,A)},d=(p,A,b)=>{n("update-month-year",{month:p,year:A,fromNav:b})},T=e.computed(()=>p=>Mn(s.set(H(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,p));return{handleMonthYearChange:h,isDisabled:T,updateMonthYear:d}},ht={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Ie={...ht,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},$a=["title"],Ta=["disabled"],Aa=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ie},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:m,defaultedMultiCalendars:c,defaultedTextInput:h,defaultedInline:d,defaultedRange:T,defaultedMultiDates:p}=he(r),{isTimeValid:A,isMonthValid:b}=Ge(r),{buildMatrix:B}=Ke(),z=e.ref(null),E=e.ref(null),P=e.ref(!1),D=e.ref({}),C=e.ref(null),g=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&B([De(z),De(E)],"actionRow"),L(),window.addEventListener("resize",L)}),e.onUnmounted(()=>{window.removeEventListener("resize",L)});const L=()=>{P.value=!1,setTimeout(()=>{const y=C.value?.getBoundingClientRect(),O=g.value?.getBoundingClientRect();y&&O&&(D.value.maxWidth=`${O.width-y.width-20}px`),P.value=!0},0)},I=e.computed(()=>T.value.enabled&&!T.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),ee=e.computed(()=>!A.value(r.internalModelValue)||!b.value(r.internalModelValue)||!I.value),W=()=>{const y=m.value;return r.timePicker||r.monthPicker,y(Se(r.internalModelValue))},S=()=>{const y=r.internalModelValue;return c.value.count>0?`${X(y[0])} - ${X(y[1])}`:[X(y[0]),X(y[1])]},X=y=>Dn(y,m.value,r.formatLocale,h.value.rangeSeparator,r.modelAuto,m.value),R=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof m.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?S():p.value.enabled?r.internalModelValue.map(y=>`${X(y)}`):r.modelAuto?`${X(r.internalModelValue[0])}`:`${X(r.internalModelValue[0])} -`:X(r.internalModelValue):W()),G=()=>p.value.enabled?"; ":" - ",oe=e.computed(()=>Array.isArray(R.value)?R.value.join(G()):R.value),ce=()=>{A.value(r.internalModelValue)&&b.value(r.internalModelValue)&&I.value?l("select-date"):l("invalid-select")};return(y,O)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[y.$slots["action-row"]?e.renderSlot(y.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:y.internalModelValue,disabled:ee.value,selectDate:()=>y.$emit("select-date"),closePicker:()=>y.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:oe.value,style:e.normalizeStyle(D.value)},[y.$slots["action-preview"]&&P.value?e.renderSlot(y.$slots,"action-preview",{key:0,value:y.internalModelValue}):e.createCommentVNode("",!0),!y.$slots["action-preview"]&&P.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(oe.value),1)],64)):e.createCommentVNode("",!0)],12,$a)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:C,class:"dp__action_buttons","data-dp-element":"action-row"},[y.$slots["action-buttons"]?e.renderSlot(y.$slots,"action-buttons",{key:0,value:y.internalModelValue}):e.createCommentVNode("",!0),y.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(d).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:z,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[0]||(O[0]=J=>y.$emit("close-picker")),onKeydown:O[1]||(O[1]=J=>e.unref(Ae)(J,()=>y.$emit("close-picker")))},e.toDisplayString(y.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[2]||(O[2]=J=>y.$emit("select-now")),onKeydown:O[3]||(O[3]=J=>e.unref(Ae)(J,()=>y.$emit("select-now")))},e.toDisplayString(y.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:E,type:"button",class:"dp__action_button dp__action_select",disabled:ee.value,"data-test-id":"select-button",onKeydown:O[4]||(O[4]=J=>e.unref(Ae)(J,()=>ce())),onClick:ce},e.toDisplayString(y.selectText),41,Ta)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),Pa=["role","aria-label","tabindex"],Ra={class:"dp__selection_grid_header"},Na=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],Ea=["aria-label"],ct=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:m}=Ke(),c=l,h=t,{defaultedAriaLabels:d,defaultedTextInput:T,defaultedConfig:p,handleEventPropagation:A}=he(h),{hideNavigationButtons:b}=vt(),B=e.ref(!1),z=e.ref(null),E=e.ref(null),P=e.ref([]),D=e.ref(),C=e.ref(null),g=e.ref(0),L=e.ref(null);e.onBeforeUpdate(()=>{z.value=null}),e.onMounted(()=>{e.nextTick().then(()=>oe()),h.noOverlayFocus||ee(),I(!0)}),e.onUnmounted(()=>I(!1));const I=u=>{h.arrowNavigation&&(h.headerRefs?.length?m(u):r(u))},ee=()=>{const u=De(E);u&&(T.value.enabled||(z.value?z.value?.focus({preventScroll:!0}):u.focus({preventScroll:!0})),B.value=u.clientHeight<u.scrollHeight)},W=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!h.useRelative,"dp--overlay-relative":h.useRelative})),S=e.computed(()=>h.useRelative?{height:`${h.height}px`,width:"var(--dp-menu-min-width)"}:void 0),X=e.computed(()=>({dp__overlay_col:!0})),R=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:B.value,dp__button_bottom:h.isLast})),G=e.computed(()=>({dp__overlay_container:!0,dp__container_flex:h.items?.length<=6,dp__container_block:h.items?.length>6}));e.watch(()=>h.items,()=>oe(!1),{deep:!0});const oe=(u=!0)=>{e.nextTick().then(()=>{const te=De(z),x=De(E),Y=De(C),Q=De(L),f=Y?Y.getBoundingClientRect().height:0;x&&(x.getBoundingClientRect().height?g.value=x.getBoundingClientRect().height-f:g.value=p.value.modeHeight-f),te&&Q&&u&&(Q.scrollTop=te.offsetTop-Q.offsetTop-(g.value/2-te.getBoundingClientRect().height)-f)})},ce=u=>{u.disabled||c("selected",u.value)},y=()=>{c("toggle"),c("reset-flow")},O=u=>{h.escClose&&(y(),A(u))},J=(u,te,x,Y)=>{u&&((te.active||te.value===h.focusValue)&&(z.value=u),h.arrowNavigation&&(Array.isArray(P.value[x])?P.value[x][Y]=u:P.value[x]=[u],k()))},k=()=>{const u=h.headerRefs?.length?[h.headerRefs].concat(P.value):P.value.concat([h.skipButtonRef?[]:[C.value]]);a(Se(u),h.headerRefs?.length?"monthPicker":"selectionGrid")},U=u=>{h.arrowNavigation||Ue(u,p.value,!0)},$=u=>{D.value=u,c("hover-value",u)},K=()=>{if(y(),!h.isLast){const u=Nt(h.menuWrapRef??null,"action-row");u&&pn(u)?.focus()}},w=u=>{switch(u.key){case ge.esc:return O(u);case ge.arrowLeft:return U(u);case ge.arrowRight:return U(u);case ge.arrowUp:return U(u);case ge.arrowDown:return U(u);default:return}},ae=u=>{if(u.key===ge.enter)return y();if(u.key===ge.tab)return K()};return n({focusGrid:ee}),(u,te)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:E,class:e.normalizeClass(W.value),style:e.normalizeStyle(S.value),role:t.useRelative?void 0:"dialog","aria-label":t.overlayLabel,tabindex:t.useRelative?void 0:"0",onKeydown:w,onClick:te[0]||(te[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:L,class:e.normalizeClass(G.value),style:e.normalizeStyle({"--dp-overlay-height":`${g.value}px`}),role:"grid"},[e.createElementVNode("div",Ra,[e.renderSlot(u.$slots,"header")]),u.$slots.overlay?e.renderSlot(u.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(t.items,(x,Y)=>(e.openBlock(),e.createElementBlock("div",{key:Y,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:t.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x,(Q,f)=>(e.openBlock(),e.createElementBlock("div",{key:Q.value,ref_for:!0,ref:i=>J(i,Q,Y,f),role:"gridcell",class:e.normalizeClass(X.value),"aria-selected":Q.active||void 0,"aria-disabled":Q.disabled||void 0,tabindex:"0","data-test-id":Q.text,onClick:e.withModifiers(i=>ce(Q),["prevent"]),onKeydown:i=>e.unref(Ae)(i,()=>ce(Q),!0),onMouseover:i=>$(Q.value)},[e.createElementVNode("div",{class:e.normalizeClass(Q.className)},[u.$slots.item?e.renderSlot(u.$slots,"item",{key:0,item:Q}):e.createCommentVNode("",!0),u.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Q.text),1)],64))],2)],42,Na))),128))],2))),128))],6),u.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:C,type:"button","aria-label":e.unref(d)?.toggleOverlay,class:e.normalizeClass(R.value),tabindex:"0",onClick:y,onKeydown:ae},[e.renderSlot(u.$slots,"button-icon")],42,Ea)),[[e.vShow,!e.unref(b)(t.hideNavigation,t.type)]]):e.createCommentVNode("",!0)],46,Pa))}}),Oa=["data-dp-mobile"],kt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!t.stretch,"dp--menu--inner-stretched":t.stretch,dp__flex_display:t.multiCalendars>0,"dp--flex-display-collapsed":t.collapse}),"data-dp-mobile":t.isMobile},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(c,h)=>(e.openBlock(),e.createElementBlock("div",{key:c,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:c,index:h})],2))),128))],10,Oa))}}),Ya=["data-dp-element","aria-label","aria-disabled"],dt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,r=e.ref(null);return e.onMounted(()=>l("set-ref",r)),(a,m)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button","data-dp-element":t.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":t.ariaLabel,"aria-disabled":t.disabled||void 0,onClick:m[0]||(m[0]=c=>l("activate")),onKeydown:m[1]||(m[1]=c=>e.unref(Ae)(c,()=>l("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,Ya))}}),Va=["aria-label","data-test-id"],Rn=e.defineComponent({__name:"YearModePicker",props:{...Ie,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,r=t,{showRightIcon:a,showLeftIcon:m}=vt(),{defaultedConfig:c,defaultedMultiCalendars:h,defaultedAriaLabels:d,defaultedTransitions:T,defaultedUI:p}=he(r),{showTransition:A,transitionName:b}=ft(T),B=e.ref(!1),z=e.computed(()=>Et(r.year,r.locale)),E=(C=!1,g)=>{B.value=!B.value,l("toggle-year-picker",{flow:C,show:g})},P=C=>{B.value=!1,l("year-select",C)},D=(C=!1)=>{l("handle-year",C)};return(C,g)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:e.normalizeClass(["dp--year-mode-picker",{"dp--hidden-el":B.value}])},[e.unref(m)(e.unref(h),t.instance)?(e.openBlock(),e.createBlock(dt,{key:0,ref:"mpPrevIconRef","aria-label":e.unref(d)?.prevYear,disabled:t.isDisabled(!1),class:e.normalizeClass(e.unref(p)?.navBtnPrev),onActivate:g[0]||(g[0]=L=>D(!1))},{default:e.withCtx(()=>[C.$slots["arrow-left"]?e.renderSlot(C.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),C.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${e.unref(d)?.openYearsOverlay}`,"data-test-id":`year-mode-btn-${t.instance}`,onClick:g[1]||(g[1]=()=>E(!1)),onKeydown:g[2]||(g[2]=e.withKeys(()=>E(!1),["enter"]))},[C.$slots.year?e.renderSlot(C.$slots,"year",{key:0,year:t.year,text:z.value,value:t.year}):e.createCommentVNode("",!0),C.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(z.value),1)],64))],40,Va),e.unref(a)(e.unref(h),t.instance)?(e.openBlock(),e.createBlock(dt,{key:1,ref:"mpNextIconRef","aria-label":e.unref(d)?.nextYear,disabled:t.isDisabled(!0),class:e.normalizeClass(e.unref(p)?.navBtnNext),onActivate:g[3]||(g[3]=L=>D(!0))},{default:e.withCtx(()=>[C.$slots["arrow-right"]?e.renderSlot(C.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),C.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0)],2),e.createVNode(e.Transition,{name:e.unref(b)(t.showYearPicker),css:e.unref(A)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(ct,{key:0,items:t.items,"text-input":C.textInput,"esc-close":C.escClose,config:C.config,"is-last":C.autoApply&&!e.unref(c).keepActionRow,"hide-navigation":C.hideNavigation,"aria-labels":C.ariaLabels,"overlay-label":e.unref(d)?.yearPicker?.(!0),type:"year",onToggle:E,onSelected:g[4]||(g[4]=L=>P(L))},e.createSlots({"button-icon":e.withCtx(()=>[C.$slots["calendar-icon"]?e.renderSlot(C.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),C.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(tt),{key:1}))]),_:2},[C.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:L})=>[e.renderSlot(C.$slots,"year-overlay-value",{text:L.text,value:L.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Gt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>me(t,r))){const r=n.value.filter(a=>!me(a,t));n.value=r.length?r:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},Qt=(t,n,l)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?(ke(n,r[0])?r.unshift(n):r[1]=n,l("range-end",n)):(r=[n],l("range-start",n)),r},bt=(t,n,l,r)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&r&&l&&n("auto-apply"))},Nn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Pe(H(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Pe(H(t.value),t.timezone))},En=(t,n,l,r)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(be(t,n.value[0])||me(t,n.value[0]))?[n.value[0],t]:r.value.fixedEnd&&(ke(t,n.value[1])||me(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],On=({multiCalendars:t,range:n,highlight:l,propDates:r,calendars:a,modelValue:m,props:c,filters:h,year:d,month:T,emit:p})=>{const A=e.computed(()=>Pt(c.yearRange,c.locale,c.reverseYears)),b=e.ref([!1]),B=e.computed(()=>(R,G)=>{const oe=s.set(_e(new Date),{month:T.value(R),year:d.value(R)}),ce=G?s.endOfYear(oe):s.startOfYear(oe);return Mn(ce,r.value.maxDate,r.value.minDate,c.preventMinMaxNavigation,G)}),z=()=>Array.isArray(m.value)&&t.value.solo&&m.value[1],E=()=>{for(let R=0;R<t.value.count;R++)if(R===0)a.value[R]=a.value[0];else if(R===t.value.count-1&&z())a.value[R]={month:s.getMonth(m.value[1]),year:s.getYear(m.value[1])};else{const G=s.set(H(),a.value[R-1]);a.value[R]={month:s.getMonth(G),year:s.getYear(s.addYears(G,1))}}},P=R=>{if(!R)return E();const G=s.set(H(),a.value[R]);return a.value[0].year=s.getYear(s.subYears(G,t.value.count-1)),E()},D=(R,G)=>{const oe=s.differenceInYears(G,R);return n.value.showLastInRange&&oe>1?G:R},C=R=>c.focusStartDate||t.value.solo?R[0]:R[1]?D(R[0],R[1]):R[0],g=()=>{if(m.value){const R=Array.isArray(m.value)?C(m.value):m.value;a.value[0]={month:s.getMonth(R),year:s.getYear(R)}}},L=()=>{g(),t.value.count&&E()};e.watch(m,(R,G)=>{c.isTextInputDate&&JSON.stringify(R??{})!==JSON.stringify(G??{})&&L()}),e.onMounted(()=>{L()});const I=(R,G)=>{a.value[G].year=R,p("update-month-year",{instance:G,year:R,month:a.value[G].month}),t.value.count&&!t.value.solo&&P(G)},ee=e.computed(()=>R=>at(A.value,G=>{const oe=d.value(R)===G.value,ce=st(G.value,rt(r.value.minDate),rt(r.value.maxDate))||h.value.years?.includes(d.value(R)),y=Ht(l.value,G.value);return{active:oe,disabled:ce,highlighted:y}})),W=(R,G)=>{I(R,G),X(G)},S=(R,G=!1)=>{if(!B.value(R,G)){const oe=G?d.value(R)+1:d.value(R)-1;I(oe,R)}},X=(R,G=!1,oe)=>{G||p("reset-flow"),oe!==void 0?b.value[R]=oe:b.value[R]=!b.value[R],b.value[R]?p("overlay-toggle",{open:!0,overlay:Be.year}):(p("overlay-closed"),p("overlay-toggle",{open:!1,overlay:Be.year}))};return{isDisabled:B,groupedYears:ee,showYearPicker:b,selectYear:I,toggleYearPicker:X,handleYearSelect:W,handleYear:S}},_a=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,defaultedRange:c,defaultedHighlight:h,propDates:d,defaultedTz:T,defaultedFilters:p,defaultedMultiDates:A}=he(t),b=()=>{t.isTextInputDate&&L(s.getYear(H(t.startDate)),0)},{modelValue:B,year:z,month:E,calendars:P}=mt(t,n,b),D=e.computed(()=>cn(t.formatLocale,t.locale,t.monthNameFormat)),C=e.ref(null),{checkMinMaxRange:g}=Ge(t),{selectYear:L,groupedYears:I,showYearPicker:ee,toggleYearPicker:W,handleYearSelect:S,handleYear:X,isDisabled:R}=On({modelValue:B,multiCalendars:l,range:c,highlight:h,calendars:P,year:z,propDates:d,month:E,filters:p,props:t,emit:n});e.onMounted(()=>{t.startDate&&(B.value&&t.focusStartDate||!B.value)&&L(s.getYear(H(t.startDate)),0)});const G=Y=>Y?{month:s.getMonth(Y),year:s.getYear(Y)}:{month:null,year:null},oe=()=>B.value?Array.isArray(B.value)?B.value.map(Y=>G(Y)):G(B.value):G(),ce=(Y,Q)=>{const f=P.value[Y],i=oe();return Array.isArray(i)?i.some(q=>q.year===f?.year&&q.month===Q):f?.year===i.year&&Q===i.month},y=(Y,Q,f)=>{const i=oe();return Array.isArray(i)?z.value(Q)===i[f]?.year&&Y===i[f]?.month:!1},O=(Y,Q)=>{if(c.value.enabled){const f=oe();if(Array.isArray(B.value)&&Array.isArray(f)){const i=y(Y,Q,0)||y(Y,Q,1),q=He(_e(H()),Y,z.value(Q));return it(B.value,C.value,q)&&!i}return!1}return!1},J=e.computed(()=>Y=>at(D.value,Q=>{const f=ce(Y,Q.value),i=st(Q.value,kn(z.value(Y),d.value.minDate),bn(z.value(Y),d.value.maxDate))||oa(d.value.disabledDates,z.value(Y),Q.value)||p.value.months?.includes(Q.value)||!sa(d.value.allowedDates,z.value(Y),Q.value)||$n(t.yearRange,z.value(Y)),q=O(Q.value,Y),N=Cn(h.value,Q.value,z.value(Y));return{active:f,disabled:i,isBetween:q,highlighted:N}})),k=(Y,Q)=>He(_e(H()),Y,z.value(Q)),U=(Y,Q)=>{const f=B.value?B.value:_e(new Date);B.value=He(f,Y,z.value(Q)),n("auto-apply"),n("update-flow-step")},$=(Y,Q)=>{const f=k(Y,Q);c.value.fixedEnd||c.value.fixedStart?B.value=En(f,B,n,c):B.value?g(f,B.value)&&(B.value=Qt(B,k(Y,Q),n)):B.value=[k(Y,Q)],e.nextTick().then(()=>{bt(B.value,n,t.autoApply,t.modelAuto)})},K=(Y,Q)=>{Gt(k(Y,Q),B,A.value.limit),n("auto-apply",!0)},w=(Y,Q)=>(P.value[Q].month=Y,u(Q,P.value[Q].year,Y),A.value.enabled?K(Y,Q):c.value.enabled?$(Y,Q):U(Y,Q)),ae=(Y,Q)=>{L(Y,Q),u(Q,Y,null)},u=(Y,Q,f)=>{let i=f;if(!i&&i!==0){const q=oe();i=Array.isArray(q)?q[Y].month:q.month}n("update-month-year",{instance:Y,year:Q,month:i})};return{groupedMonths:J,groupedYears:I,year:z,isDisabled:R,defaultedMultiCalendars:l,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,showYearPicker:ee,modelValue:B,presetDate:(Y,Q)=>{Nn({value:Y,modelValue:B,range:c.value.enabled,timezone:Q?void 0:T.value.timezone}),n("auto-apply")},setHoverDate:(Y,Q)=>{C.value=k(Y,Q)},selectMonth:w,selectYear:ae,toggleYearPicker:W,handleYearSelect:S,handleYear:X,getModelMonthYear:oe}},Ia=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ie},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=e.useSlots(),m=Ne(a,"yearMode"),c=t;e.onMounted(()=>{c.shadow||r("mount",null)});const{groupedMonths:h,groupedYears:d,year:T,isDisabled:p,defaultedMultiCalendars:A,defaultedConfig:b,showYearPicker:B,modelValue:z,presetDate:E,setHoverDate:P,selectMonth:D,selectYear:C,toggleYearPicker:g,handleYearSelect:L,handleYear:I,getModelMonthYear:ee}=_a(c,r);return n({getSidebarProps:()=>({modelValue:z,year:T,getModelMonthYear:ee,selectMonth:D,selectYear:C,handleYear:I}),presetDate:E,toggleYearPicker:S=>g(0,S)}),(S,X)=>(e.openBlock(),e.createBlock(kt,{"multi-calendars":e.unref(A).count,collapse:S.collapse,stretch:"","is-mobile":S.isMobile},{default:e.withCtx(({instance:R})=>[S.$slots["top-extra"]?e.renderSlot(S.$slots,"top-extra",{key:0,value:S.internalModelValue}):e.createCommentVNode("",!0),S.$slots["month-year"]?e.renderSlot(S.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(T),months:e.unref(h)(R),years:e.unref(d)(R),selectMonth:e.unref(D),selectYear:e.unref(C),instance:R}))):(e.openBlock(),e.createBlock(ct,{key:2,items:e.unref(h)(R),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!e.unref(b).keepActionRow,"esc-close":S.escClose,height:e.unref(b).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:G=>e.unref(D)(G,R),onHoverValue:G=>e.unref(P)(G,R)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Rn,e.mergeProps(S.$props,{items:e.unref(d)(R),instance:R,"show-year-picker":e.unref(B)[R],year:e.unref(T)(R),"is-disabled":G=>e.unref(p)(R,G),onHandleYear:G=>e.unref(I)(R,G),onYearSelect:G=>e.unref(L)(G,R),onToggleYearPicker:G=>e.unref(g)(R,G?.flow,G?.show)}),e.createSlots({_:2},[e.renderList(e.unref(m),(G,oe)=>({name:G,fn:e.withCtx(ce=>[e.renderSlot(S.$slots,G,e.normalizeProps(e.guardReactiveProps(ce)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[S.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:G})=>[e.renderSlot(S.$slots,"month-overlay-value",{text:G.text,value:G.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),za=(t,n)=>{const l=()=>{t.isTextInputDate&&(p.value=s.getYear(H(t.startDate)))},{modelValue:r}=mt(t,n,l),a=e.ref(null),{defaultedHighlight:m,defaultedMultiDates:c,defaultedFilters:h,defaultedRange:d,propDates:T}=he(t),p=e.ref();e.onMounted(()=>{t.startDate&&(r.value&&t.focusStartDate||!r.value)&&(p.value=s.getYear(H(t.startDate)))});const A=g=>Array.isArray(r.value)?r.value.some(L=>s.getYear(L)===g):r.value?s.getYear(r.value)===g:!1,b=g=>d.value.enabled&&Array.isArray(r.value)?it(r.value,a.value,P(g)):!1,B=g=>T.value.allowedDates instanceof Map?T.value.allowedDates.size?T.value.allowedDates.has(`${g}`):!1:!0,z=g=>T.value.disabledDates instanceof Map?T.value.disabledDates.size?T.value.disabledDates.has(`${g}`):!1:typeof T.value.disabledDates=="function"?T.value.disabledDates(s.setYear(Ce(s.startOfYear(H())),g)):!0,E=e.computed(()=>at(Pt(t.yearRange,t.locale,t.reverseYears),g=>{const L=A(g.value),I=st(g.value,rt(T.value.minDate),rt(T.value.maxDate))||h.value.years.includes(g.value)||!B(g.value)||z(g.value),ee=b(g.value)&&!L,W=Ht(m.value,g.value);return{active:L,disabled:I,isBetween:ee,highlighted:W}})),P=g=>s.setYear(_e(s.startOfYear(new Date)),g);return{groupedYears:E,modelValue:r,focusYear:p,setHoverValue:g=>{a.value=s.setYear(_e(new Date),g)},selectYear:g=>{if(n("update-month-year",{instance:0,year:g}),c.value.enabled)return r.value?Array.isArray(r.value)&&((r.value?.map(I=>s.getYear(I))).includes(g)?r.value=r.value.filter(I=>s.getYear(I)!==g):r.value.push(s.setYear(Ce(H()),g))):r.value=[s.setYear(Ce(s.startOfYear(H())),g)],n("auto-apply",!0);d.value.enabled?(r.value=Qt(r,P(g),n),e.nextTick().then(()=>{bt(r.value,n,t.autoApply,t.modelAuto)})):(r.value=P(g),n("auto-apply"))}}},La=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ie},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const r=l,a=t,{groupedYears:m,modelValue:c,focusYear:h,selectYear:d,setHoverValue:T}=za(a,r),{defaultedConfig:p}=he(a);return n({getSidebarProps:()=>({modelValue:c,selectYear:d})}),(b,B)=>(e.openBlock(),e.createElementBlock("div",null,[b.$slots["top-extra"]?e.renderSlot(b.$slots,"top-extra",{key:0,value:b.internalModelValue}):e.createCommentVNode("",!0),b.$slots["month-year"]?e.renderSlot(b.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(m),selectYear:e.unref(d)}))):(e.openBlock(),e.createBlock(ct,{key:2,items:e.unref(m),"is-last":b.autoApply&&!e.unref(p).keepActionRow,height:e.unref(p).modeHeight,config:b.config,"no-overlay-focus":!!(b.noOverlayFocus||b.textInput),"focus-value":e.unref(h),type:"year","use-relative":"",onSelected:e.unref(d),onHoverValue:e.unref(T)},e.createSlots({_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:z})=>[e.renderSlot(b.$slots,"year-overlay-value",{text:z.text,value:z.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Ha={key:0,class:"dp__time_input"},Wa=["data-compact","data-collapsed"],Ua=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],ja=["aria-label","disabled","data-test-id","onKeydown","onClick"],xa=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],Ka={key:0},qa=["aria-label","data-compact"],Ga=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ie},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,{setTimePickerElements:m,setTimePickerBackRef:c}=Ke(),{defaultedAriaLabels:h,defaultedTransitions:d,defaultedFilters:T,defaultedConfig:p,defaultedRange:A,defaultedMultiCalendars:b}=he(a),{transitionName:B,showTransition:z}=ft(d),E=e.reactive({hours:!1,minutes:!1,seconds:!1}),P=e.ref("AM"),D=e.ref(null),C=e.ref([]),g=e.ref(),L=e.ref(!1);e.onMounted(()=>{r("mounted")});const I=o=>s.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:a.enableSeconds?o.seconds:0,milliseconds:0}),ee=e.computed(()=>o=>$(o,a[o])||S(o,a[o])),W=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),S=(o,V)=>A.value.enabled&&!A.value.disableTimeRangeValidation?!a.validateTime(o,V):!1,X=(o,V)=>{if(A.value.enabled&&!A.value.disableTimeRangeValidation){const j=V?+a[`${o}Increment`]:-+a[`${o}Increment`],ne=a[o]+j;return!a.validateTime(o,ne)}return!1},R=e.computed(()=>o=>!te(+a[o]+ +a[`${o}Increment`],o)||X(o,!0)),G=e.computed(()=>o=>!te(+a[o]-+a[`${o}Increment`],o)||X(o,!1)),oe=(o,V)=>s.add(s.set(H(),o),V),ce=(o,V)=>s.sub(s.set(H(),o),V),y=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),O=e.computed(()=>a.timePickerInline&&A.value.enabled&&!b.value.count),J=e.computed(()=>{const o=[{type:"hours"}];return a.enableMinutes&&o.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&o.push({type:"",separator:!0},{type:"seconds"}),o}),k=e.computed(()=>J.value.filter(o=>!o.separator)),U=e.computed(()=>o=>{if(o==="hours"){const V=q(+a.hours);return{text:V<10?`0${V}`:`${V}`,value:V}}return{text:a[o]<10?`0${a[o]}`:`${a[o]}`,value:a[o]}}),$=(o,V)=>{if(!a.disabledTimesConfig)return!1;const j=a.disabledTimesConfig(a.order,o==="hours"?V:void 0);return j[o]?!!j[o]?.includes(V):!0},K=(o,V)=>V!=="hours"||P.value==="AM"?o:o+12,w=o=>{const V=a.is24?24:12,j=o==="hours"?V:60,ne=+a[`${o}GridIncrement`],de=o==="hours"&&!a.is24?ne:0,we=[];for(let Me=de;Me<j;Me+=ne)we.push({value:a.is24?Me:K(Me,o),text:Me<10?`0${Me}`:`${Me}`});return o==="hours"&&!a.is24&&we.unshift({value:P.value==="PM"?12:0,text:"12"}),at(we,Me=>({active:!1,disabled:T.value.times[o].includes(Me.value)||!te(Me.value,o)||$(o,Me.value)||S(o,Me.value)}))},ae=o=>o>=0?o:59,u=o=>o>=0?o:23,te=(o,V)=>{const j=a.minTime?I(Vt(a.minTime)):null,ne=a.maxTime?I(Vt(a.maxTime)):null,de=I(Vt(W.value,V,V==="minutes"||V==="seconds"?ae(o):u(o)));return j&&ne?(s.isBefore(de,ne)||s.isEqual(de,ne))&&(s.isAfter(de,j)||s.isEqual(de,j)):j?s.isAfter(de,j)||s.isEqual(de,j):ne?s.isBefore(de,ne)||s.isEqual(de,ne):!0},x=o=>a[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],Y=o=>{x(o)||(E[o]=!E[o],E[o]?(L.value=!0,r("overlay-opened",o)):(L.value=!1,r("overlay-closed",o)))},Q=o=>o==="hours"?s.getHours:o==="minutes"?s.getMinutes:s.getSeconds,f=()=>{g.value&&clearTimeout(g.value)},i=(o,V=!0,j)=>{const ne=V?oe:ce,de=V?+a[`${o}Increment`]:-+a[`${o}Increment`];te(+a[o]+de,o)&&r(`update:${o}`,Q(o)(ne({[o]:+a[o]},{[o]:+a[`${o}Increment`]}))),!j?.keyboard&&p.value.timeArrowHoldThreshold&&(g.value=setTimeout(()=>{i(o,V)},p.value.timeArrowHoldThreshold))},q=o=>a.is24?o:(o>=12?P.value="PM":P.value="AM",qn(o)),N=()=>{P.value==="PM"?(P.value="AM",r("update:hours",a.hours-12)):(P.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",P.value)},fe=o=>{E[o]=!0},pe=(o,V,j)=>{if(o&&a.arrowNavigation){Array.isArray(C.value[V])?C.value[V][j]=o:C.value[V]=[o];const ne=C.value.reduce((de,we)=>we.map((Me,Oe)=>[...de[Oe]||[],we[Oe]]),[]);c(a.closeTimePickerBtn),D.value&&(ne[1]=ne[1].concat(D.value)),m(ne,a.order)}},F=(o,V)=>(Y(o),r(`update:${o}`,V));return n({openChildCmp:fe}),(o,V)=>o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ha,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(J.value,(j,ne)=>(e.openBlock(),e.createElementBlock("div",{key:ne,class:e.normalizeClass(y.value),"data-compact":O.value&&!o.enableSeconds,"data-collapsed":O.value&&o.enableSeconds},[j.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[L.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(":")],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:de=>pe(de,ne,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_top:o.timePickerInline,dp__inc_dec_button_disabled:R.value(j.type),"dp--hidden-el":L.value}),"data-test-id":`${j.type}-time-inc-btn-${a.order}`,"aria-label":e.unref(h)?.incrementValue(j.type),tabindex:"0",onKeydown:de=>e.unref(Ae)(de,()=>i(j.type,!0,{keyboard:!0}),!0),onClick:de=>e.unref(p).timeArrowHoldThreshold?void 0:i(j.type,!0),onMousedown:de=>e.unref(p).timeArrowHoldThreshold?i(j.type,!0):void 0,onMouseup:f},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.$slots["tp-inline-arrow-up"]?e.renderSlot(o.$slots,"tp-inline-arrow-up",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[V[2]||(V[2]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),V[3]||(V[3]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],64))],42,Ua),e.createElementVNode("button",{ref_for:!0,ref:de=>pe(de,ne,1),type:"button","aria-label":`${U.value(j.type).text}-${e.unref(h)?.openTpOverlay(j.type)}`,class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!o.timePickerInline,dp__time_display_inline:o.timePickerInline,"dp--time-invalid":ee.value(j.type),"dp--time-overlay-btn":!ee.value(j.type),"dp--hidden-el":L.value}),disabled:x(j.type),tabindex:"0","data-test-id":`${j.type}-toggle-overlay-btn-${a.order}`,onKeydown:de=>e.unref(Ae)(de,()=>Y(j.type),!0),onClick:de=>Y(j.type)},[o.$slots[j.type]?e.renderSlot(o.$slots,j.type,{key:0,text:U.value(j.type).text,value:U.value(j.type).value}):e.createCommentVNode("",!0),o.$slots[j.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(U.value(j.type).text),1)],64))],42,ja),e.createElementVNode("button",{ref_for:!0,ref:de=>pe(de,ne,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_bottom:o.timePickerInline,dp__inc_dec_button_disabled:G.value(j.type),"dp--hidden-el":L.value}),"data-test-id":`${j.type}-time-dec-btn-${a.order}`,"aria-label":e.unref(h)?.decrementValue(j.type),tabindex:"0",onKeydown:de=>e.unref(Ae)(de,()=>i(j.type,!1,{keyboard:!0}),!0),onClick:de=>e.unref(p).timeArrowHoldThreshold?void 0:i(j.type,!1),onMousedown:de=>e.unref(p).timeArrowHoldThreshold?i(j.type,!1):void 0,onMouseup:f},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.$slots["tp-inline-arrow-down"]?e.renderSlot(o.$slots,"tp-inline-arrow-down",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[V[4]||(V[4]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),V[5]||(V[5]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],64))],42,xa)],64))],10,Wa))),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ka,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:N,value:P.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:D,type:"button",class:"dp__pm_am_button",role:"button","aria-label":e.unref(h)?.amPmButton,tabindex:"0","data-compact":O.value,onClick:N,onKeydown:V[0]||(V[0]=j=>e.unref(Ae)(j,()=>N(),!0))},e.toDisplayString(P.value),41,qa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.value,(j,ne)=>(e.openBlock(),e.createBlock(e.Transition,{key:ne,name:e.unref(B)(E[j.type]),css:e.unref(z)},{default:e.withCtx(()=>[E[j.type]?(e.openBlock(),e.createBlock(ct,{key:0,items:w(j.type),"is-last":o.autoApply&&!e.unref(p).keepActionRow,"esc-close":o.escClose,type:j.type,"text-input":o.textInput,config:o.config,"arrow-navigation":o.arrowNavigation,"aria-labels":o.ariaLabels,"overlay-label":e.unref(h).timeOverlay?.(j.type),onSelected:de=>F(j.type,de),onToggle:de=>Y(j.type),onResetFlow:V[1]||(V[1]=de=>o.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.timePickerInline?e.unref(tt):e.unref(Ct)),{key:1}))]),_:2},[o.$slots[`${j.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:de})=>[e.renderSlot(o.$slots,`${j.type}-overlay-value`,{text:de.text,value:de.value})]),key:"0"}:void 0,o.$slots[`${j.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(o.$slots,`${j.type}-overlay-header`,{toggle:()=>Y(j.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}),Qa=["data-dp-mobile"],Xa=["aria-label","tabindex"],Ja=["role","aria-label","tabindex"],Za=["aria-label"],Yn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ie},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,{buildMatrix:m,setTimePicker:c}=Ke(),h=e.useSlots(),{defaultedTransitions:d,defaultedAriaLabels:T,defaultedTextInput:p,defaultedConfig:A,defaultedRange:b}=he(a),{transitionName:B,showTransition:z}=ft(d),{hideNavigationButtons:E}=vt(),P=e.ref(null),D=e.ref(null),C=e.ref([]),g=e.ref(null),L=e.ref(!1);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?m([De(P.value)],"time"):c(!0,a.timePicker)});const I=e.computed(()=>b.value.enabled&&a.modelAuto?dn(a.internalModelValue):!0),ee=e.ref(!1),W=$=>({hours:Array.isArray(a.hours)?a.hours[$]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[$]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[$]:a.seconds}),S=e.computed(()=>{const $=[];if(b.value.enabled)for(let K=0;K<2;K++)$.push(W(K));else $.push(W(0));return $}),X=($,K=!1,w="")=>{K||r("reset-flow"),ee.value=$,r($?"overlay-opened":"overlay-closed",Be.time),a.arrowNavigation&&c($),e.nextTick(()=>{w!==""&&C.value[0]&&C.value[0].openChildCmp(w)})},R=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!A.value.keepActionRow})),G=Ne(h,"timePicker"),oe=($,K,w)=>b.value.enabled?K===0?[$,S.value[1][w]]:[S.value[0][w],$]:$,ce=$=>{r("update:hours",$)},y=$=>{r("update:minutes",$)},O=$=>{r("update:seconds",$)},J=()=>{if(g.value&&!p.value.enabled&&!a.noOverlayFocus){const $=pn(g.value);$&&$.focus({preventScroll:!0})}},k=$=>{L.value=!1,r("overlay-closed",$)},U=$=>{L.value=!0,r("overlay-opened",$)};return n({toggleTimePicker:X}),($,K)=>(e.openBlock(),e.createElementBlock("div",{class:"dp--tp-wrap","data-dp-mobile":$.isMobile},[!$.timePicker&&!$.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:P,type:"button",class:e.normalizeClass({...R.value,"dp--hidden-el":ee.value}),"aria-label":e.unref(T)?.openTimePicker,tabindex:$.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:K[0]||(K[0]=w=>e.unref(Ae)(w,()=>X(!0))),onClick:K[1]||(K[1]=w=>X(!0))},[$.$slots["clock-icon"]?e.renderSlot($.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),$.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],42,Xa)),[[e.vShow,!e.unref(E)($.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(B)(ee.value),css:e.unref(z)&&!$.timePickerInline},{default:e.withCtx(()=>[ee.value||$.timePicker||$.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:g,role:$.timePickerInline?void 0:"dialog",class:e.normalizeClass({dp__overlay:!$.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!$.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle($.timePicker?{height:`${e.unref(A).modeHeight}px`}:void 0),"aria-label":e.unref(T)?.timePicker,tabindex:$.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass($.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[$.$slots["time-picker-overlay"]?e.renderSlot($.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:ce,setMinutes:y,setSeconds:O}):e.createCommentVNode("",!0),$.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass($.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(S.value,(w,ae)=>e.withDirectives((e.openBlock(),e.createBlock(Ga,e.mergeProps({key:ae},{ref_for:!0},{...$.$props,order:ae,hours:w.hours,minutes:w.minutes,seconds:w.seconds,closeTimePickerBtn:D.value,disabledTimesConfig:t.disabledTimesConfig,disabled:ae===0?e.unref(b).fixedStart:e.unref(b).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:C,"validate-time":(u,te)=>t.validateTime(u,oe(te,ae,u)),"onUpdate:hours":u=>ce(oe(u,ae,"hours")),"onUpdate:minutes":u=>y(oe(u,ae,"minutes")),"onUpdate:seconds":u=>O(oe(u,ae,"seconds")),onMounted:J,onOverlayClosed:k,onOverlayOpened:U,onAmPmChange:K[2]||(K[2]=u=>$.$emit("am-pm-change",u))}),e.createSlots({_:2},[e.renderList(e.unref(G),(u,te)=>({name:u,fn:e.withCtx(x=>[e.renderSlot($.$slots,u,e.mergeProps({ref_for:!0},x))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,ae===0?!0:I.value]])),128))],2)),!$.timePicker&&!$.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:D,type:"button",class:e.normalizeClass({...R.value,"dp--hidden-el":L.value}),"aria-label":e.unref(T)?.closeTimePicker,tabindex:"0",onKeydown:K[3]||(K[3]=w=>e.unref(Ae)(w,()=>X(!1))),onClick:K[4]||(K[4]=w=>X(!1))},[$.$slots["calendar-icon"]?e.renderSlot($.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),$.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(tt),{key:1}))],42,Za)),[[e.vShow,!e.unref(E)($.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,Ja)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],8,Qa))}}),Vn=(t,n,l,r)=>{const{defaultedRange:a}=he(t),m=(g,L)=>Array.isArray(n[g])?n[g][L]:n[g],c=g=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[g]:n.seconds:0,h=(g,L)=>g?L!==void 0?je(g,m("hours",L),m("minutes",L),c(L)):je(g,n.hours,n.minutes,c()):s.setSeconds(H(),c(L)),d=(g,L)=>{n[g]=L},T=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:a.value.enabled),p=(g,L)=>{const I=Object.fromEntries(Object.keys(n).map(ee=>ee===g?[ee,L]:[ee,n[ee]].slice()));if(T.value&&!a.value.disableTimeRangeValidation){const ee=S=>l.value?je(l.value[S],I.hours[S],I.minutes[S],I.seconds[S]):null,W=S=>s.setMilliseconds(l.value[S],0);return!(me(ee(0),ee(1))&&(s.isAfter(ee(0),W(1))||s.isBefore(ee(1),W(0))))}return!0},A=(g,L)=>{p(g,L)&&(d(g,L),r&&r())},b=g=>{A("hours",g)},B=g=>{A("minutes",g)},z=g=>{A("seconds",g)},E=(g,L,I,ee)=>{L&&b(g),!L&&!I&&B(g),I&&z(g),l.value&&ee(l.value)},P=g=>{if(g){const L=Array.isArray(g),I=L?[+g[0].hours,+g[1].hours]:+g.hours,ee=L?[+g[0].minutes,+g[1].minutes]:+g.minutes,W=L?[+g[0].seconds,+g[1].seconds]:+g.seconds;d("hours",I),d("minutes",ee),t.enableSeconds&&d("seconds",W)}},D=(g,L)=>{const I={hours:Array.isArray(n.hours)?n.hours[g]:n.hours,disabledArr:[]};return(L||L===0)&&(I.hours=L),Array.isArray(t.disabledTimes)&&(I.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[g])?t.disabledTimes[g]:t.disabledTimes),I},C=e.computed(()=>(g,L)=>{if(Array.isArray(t.disabledTimes)){const{disabledArr:I,hours:ee}=D(g,L),W=I.filter(S=>+S.hours===ee);return W[0]?.minutes==="*"?{hours:[ee],minutes:void 0,seconds:void 0}:{hours:[],minutes:W?.map(S=>+S.minutes)??[],seconds:W?.map(S=>S.seconds?+S.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:d,updateHours:b,updateMinutes:B,updateSeconds:z,getSetDateTime:h,updateTimeValues:E,getSecondsValue:c,assignStartTime:P,validateTime:p,disabledTimesConfig:C}},Fa=(t,n)=>{const l=()=>{t.isTextInputDate&&L()},{modelValue:r,time:a}=mt(t,n,l),{defaultedStartTime:m,defaultedRange:c,defaultedTz:h}=he(t),{updateTimeValues:d,getSetDateTime:T,setTime:p,assignStartTime:A,disabledTimesConfig:b,validateTime:B}=Vn(t,a,r,z);function z(){n("update-flow-step")}const E=W=>{const{hours:S,minutes:X,seconds:R}=W;return{hours:+S,minutes:+X,seconds:R?+R:0}},P=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const S=E(t.startTime[0]),X=E(t.startTime[1]);return[s.set(H(),S),s.set(H(),X)]}const W=E(t.startTime);return s.set(H(),W)}return c.value.enabled?[null,null]:null},D=()=>{if(c.value.enabled){const[W,S]=P();r.value=[Pe(T(W,0),h.value.timezone),Pe(T(S,1),h.value.timezone)]}else r.value=Pe(T(P()),h.value.timezone)},C=W=>Array.isArray(W)?[Je(H(W[0])),Je(H(W[1]))]:[Je(W??H())],g=(W,S,X)=>{p("hours",W),p("minutes",S),p("seconds",t.enableSeconds?X:0)},L=()=>{const[W,S]=C(r.value);return c.value.enabled?g([W.hours,S.hours],[W.minutes,S.minutes],[W.seconds,S.seconds]):g(W.hours,W.minutes,W.seconds)};e.onMounted(()=>{if(!t.shadow)return A(m.value),r.value?L():D()});const I=()=>{Array.isArray(r.value)?r.value=r.value.map((W,S)=>W&&T(W,S)):r.value=T(r.value),n("time-update")};return{modelValue:r,time:a,disabledTimesConfig:b,updateTime:(W,S=!0,X=!1)=>{d(W,S,X,I)},validateTime:B}},er=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ie},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),c=Ne(m,"timePicker"),h=e.ref(null),{time:d,modelValue:T,disabledTimesConfig:p,updateTime:A,validateTime:b}=Fa(a,r);return e.onMounted(()=>{a.shadow||r("mount",null)}),n({getSidebarProps:()=>({modelValue:T,time:d,updateTime:A}),toggleTimePicker:(E,P=!1,D="")=>{h.value?.toggleTimePicker(E,P,D)}}),(E,P)=>(e.openBlock(),e.createBlock(kt,{"multi-calendars":0,stretch:"","is-mobile":E.isMobile},{default:e.withCtx(()=>[e.createVNode(Yn,e.mergeProps({ref_key:"tpRef",ref:h},E.$props,{hours:e.unref(d).hours,minutes:e.unref(d).minutes,seconds:e.unref(d).seconds,"internal-model-value":E.internalModelValue,"disabled-times-config":e.unref(p),"validate-time":e.unref(b),"onUpdate:hours":P[0]||(P[0]=D=>e.unref(A)(D)),"onUpdate:minutes":P[1]||(P[1]=D=>e.unref(A)(D,!1)),"onUpdate:seconds":P[2]||(P[2]=D=>e.unref(A)(D,!1,!0)),onAmPmChange:P[3]||(P[3]=D=>E.$emit("am-pm-change",D)),onResetFlow:P[4]||(P[4]=D=>E.$emit("reset-flow")),onOverlayClosed:P[5]||(P[5]=D=>E.$emit("overlay-toggle",{open:!1,overlay:D})),onOverlayOpened:P[6]||(P[6]=D=>E.$emit("overlay-toggle",{open:!0,overlay:D}))}),e.createSlots({_:2},[e.renderList(e.unref(c),(D,C)=>({name:D,fn:e.withCtx(g=>[e.renderSlot(E.$slots,D,e.normalizeProps(e.guardReactiveProps(g)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),tr={class:"dp--header-wrap"},nr={key:0,class:"dp__month_year_wrap"},ar={key:0},rr={class:"dp__month_year_wrap"},lr=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],or=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ie},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:l}){const r=l,a=t,{defaultedTransitions:m,defaultedAriaLabels:c,defaultedMultiCalendars:h,defaultedFilters:d,defaultedConfig:T,defaultedHighlight:p,propDates:A,defaultedUI:b}=he(a),{transitionName:B,showTransition:z}=ft(m),{buildMatrix:E}=Ke(),{handleMonthYearChange:P,isDisabled:D,updateMonthYear:C}=Ba(a,r),{showLeftIcon:g,showRightIcon:L}=vt(),I=e.ref(!1),ee=e.ref(!1),W=e.ref(!1),S=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const X=u=>({get:()=>a[u],set:te=>{const x=u===Ye.month?Ye.year:Ye.month;r("update-month-year",{[u]:te,[x]:a[x]}),u===Ye.month?k(!0):U(!0)}}),R=e.computed(X(Ye.month)),G=e.computed(X(Ye.year)),oe=e.computed(()=>u=>({month:a.month,year:a.year,items:u===Ye.month?a.months:a.years,instance:a.instance,updateMonthYear:C,toggle:u===Ye.month?k:U})),ce=e.computed(()=>{const u=a.months.find(te=>te.value===a.month);return u||{text:"",value:0}}),y=e.computed(()=>at(a.months,u=>{const te=a.month===u.value,x=st(u.value,kn(a.year,A.value.minDate),bn(a.year,A.value.maxDate))||d.value.months.includes(u.value),Y=Cn(p.value,u.value,a.year);return{active:te,disabled:x,highlighted:Y}})),O=e.computed(()=>at(a.years,u=>{const te=a.year===u.value,x=st(u.value,rt(A.value.minDate),rt(A.value.maxDate))||d.value.years.includes(u.value),Y=Ht(p.value,u.value);return{active:te,disabled:x,highlighted:Y}})),J=(u,te,x)=>{x!==void 0?u.value=x:u.value=!u.value,u.value?(W.value=!0,r("overlay-opened",te)):(W.value=!1,r("overlay-closed",te))},k=(u=!1,te)=>{$(u),J(I,Be.month,te)},U=(u=!1,te)=>{$(u),J(ee,Be.year,te)},$=u=>{u||r("reset-flow")},K=(u,te)=>{a.arrowNavigation&&(S.value[te]=De(u),E(S.value,"monthYear"))},w=e.computed(()=>[{type:Ye.month,index:1,toggle:k,modelValue:R.value,updateModelValue:u=>R.value=u,text:ce.value.text,showSelectionGrid:I.value,items:y.value,ariaLabel:c.value?.openMonthsOverlay,overlayLabel:c.value.monthPicker?.(!0)??void 0},{type:Ye.year,index:2,toggle:U,modelValue:G.value,updateModelValue:u=>G.value=u,text:Et(a.year,a.locale),showSelectionGrid:ee.value,items:O.value,ariaLabel:c.value?.openYearsOverlay,overlayLabel:c.value.yearPicker?.(!0)??void 0}]),ae=e.computed(()=>a.disableYearSelect?[w.value[0]]:a.yearFirst?[...w.value].reverse():w.value);return n({toggleMonthPicker:k,toggleYearPicker:U,handleMonthYearChange:P}),(u,te)=>(e.openBlock(),e.createElementBlock("div",tr,[u.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",nr,[e.renderSlot(u.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(C),handleMonthYearChange:e.unref(P),instance:t.instance,isDisabled:e.unref(D)})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[u.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",ar,[e.renderSlot(u.$slots,"top-extra",{value:u.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",rr,[e.unref(g)(e.unref(h),t.instance)&&!u.vertical?(e.openBlock(),e.createBlock(dt,{key:0,"aria-label":e.unref(c)?.prevMonth,disabled:e.unref(D)(!1),class:e.normalizeClass(e.unref(b)?.navBtnPrev),"el-name":"action-prev",onActivate:te[0]||(te[0]=x=>e.unref(P)(!1,!0)),onSetRef:te[1]||(te[1]=x=>K(x,0))},{default:e.withCtx(()=>[u.$slots["arrow-left"]?e.renderSlot(u.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:u.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ae.value,(x,Y)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:x.type},[e.createElementVNode("button",{ref_for:!0,ref:Q=>K(Q,Y+1),type:"button","data-dp-element":`overlay-${x.type}`,class:e.normalizeClass(["dp__btn dp__month_year_select",{"dp--hidden-el":W.value}]),"aria-label":`${x.text}-${x.ariaLabel}`,"data-test-id":`${x.type}-toggle-overlay-${t.instance}`,onClick:x.toggle,onKeydown:Q=>e.unref(Ae)(Q,()=>x.toggle(),!0)},[u.$slots[x.type]?e.renderSlot(u.$slots,x.type,{key:0,text:x.text,value:a[x.type]}):e.createCommentVNode("",!0),u.$slots[x.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(x.text),1)],64))],42,lr),e.createVNode(e.Transition,{name:e.unref(B)(x.showSelectionGrid),css:e.unref(z)},{default:e.withCtx(()=>[x.showSelectionGrid?(e.openBlock(),e.createBlock(ct,{key:0,items:x.items,"arrow-navigation":u.arrowNavigation,"hide-navigation":u.hideNavigation,"is-last":u.autoApply&&!e.unref(T).keepActionRow,"skip-button-ref":!1,config:u.config,type:x.type,"header-refs":[],"esc-close":u.escClose,"menu-wrap-ref":u.menuWrapRef,"text-input":u.textInput,"aria-labels":u.ariaLabels,"overlay-label":x.overlayLabel,onSelected:x.updateModelValue,onToggle:x.toggle},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["calendar-icon"]?e.renderSlot(u.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(tt),{key:1}))]),_:2},[u.$slots[`${x.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(u.$slots,`${x.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,u.$slots[`${x.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${x.type}-overlay`,e.mergeProps({ref_for:!0},oe.value(x.type)))]),key:"1"}:void 0,u.$slots[`${x.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${x.type}-overlay-header`,{toggle:x.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(g)(e.unref(h),t.instance)&&u.vertical?(e.openBlock(),e.createBlock(dt,{key:1,"aria-label":e.unref(c)?.prevMonth,"el-name":"action-prev",disabled:e.unref(D)(!1),class:e.normalizeClass(e.unref(b)?.navBtnPrev),onActivate:te[2]||(te[2]=x=>e.unref(P)(!1,!0))},{default:e.withCtx(()=>[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.unref(L)(e.unref(h),t.instance)?(e.openBlock(),e.createBlock(dt,{key:2,ref:"rightIcon","el-name":"action-next",disabled:e.unref(D)(!0),"aria-label":e.unref(c)?.nextMonth,class:e.normalizeClass(e.unref(b)?.navBtnNext),onActivate:te[3]||(te[3]=x=>e.unref(P)(!0,!0)),onSetRef:te[4]||(te[4]=x=>K(x,u.disableYearSelect?2:3))},{default:e.withCtx(()=>[u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.renderSlot(u.$slots,u.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.vertical?e.unref($t):e.unref(St)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):e.createCommentVNode("",!0)])],64))]))}}),sr={class:"dp__calendar_header",role:"row"},ir={key:0,class:"dp__calendar_header_item",role:"gridcell"},ur=["aria-label"],cr={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},dr={class:"dp__cell_inner"},fr=["id","aria-selected","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],mr=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ie},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const r=l,a=t,{buildMultiLevelMatrix:m}=Ke(),{defaultedTransitions:c,defaultedConfig:h,defaultedAriaLabels:d,defaultedMultiCalendars:T,defaultedWeekNumbers:p,defaultedMultiDates:A,defaultedUI:b}=he(a),B=e.ref(null),z=e.ref({bottom:"",left:"",transform:""}),E=e.ref([]),P=e.ref(null),D=e.ref(!0),C=e.ref(""),g=e.ref({startX:0,endX:0,startY:0,endY:0}),L=e.ref([]),I=e.ref({left:"50%"}),ee=e.ref(!1),W=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),S=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Kn(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:E}),h.value.noSwipe||P.value&&(P.value.addEventListener("touchstart",K,{passive:!1}),P.value.addEventListener("touchend",w,{passive:!1}),P.value.addEventListener("touchmove",ae,{passive:!1})),a.monthChangeOnScroll&&P.value&&P.value.addEventListener("wheel",x,{passive:!1})}),e.onUnmounted(()=>{h.value.noSwipe||P.value&&(P.value.removeEventListener("touchstart",K),P.value.removeEventListener("touchend",w),P.value.removeEventListener("touchmove",ae)),a.monthChangeOnScroll&&P.value&&P.value.removeEventListener("wheel",x)});const X=N=>N?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",R=(N,fe)=>{if(a.transitions){const pe=Ce(He(H(),a.month,a.year));C.value=be(Ce(He(H(),N,fe)),pe)?c.value[X(!0)]:c.value[X(!1)],D.value=!1,e.nextTick(()=>{D.value=!0})}},G=e.computed(()=>({...b.value.calendar??{}})),oe=e.computed(()=>N=>{const fe=Gn(N);return{dp__marker_dot:fe.type==="dot",dp__marker_line:fe.type==="line"}}),ce=e.computed(()=>N=>me(N,B.value)),y=e.computed(()=>({dp__calendar:!0,dp__calendar_next:T.value.count>0&&a.instance!==0})),O=e.computed(()=>N=>a.hideOffsetDates?N.current:!0),J=async(N,fe)=>{const{width:pe,height:F}=N.getBoundingClientRect();B.value=fe.value;let o={left:`${pe/2}px`},V=-50;if(await e.nextTick(),L.value[0]){const{left:j,width:ne}=L.value[0].getBoundingClientRect();j<0&&(o={left:"0"},V=0,I.value.left=`${pe/2}px`),window.innerWidth<j+ne&&(o={right:"0"},V=0,I.value.left=`${ne-pe/2}px`)}z.value={bottom:`${F}px`,...o,transform:`translateX(${V}%)`}},k=async(N,fe,pe)=>{const F=De(E.value[fe][pe]);F&&(N.marker?.customPosition&&N.marker?.tooltip?.length?z.value=N.marker.customPosition(F):await J(F,N),r("tooltip-open",N.marker))},U=async(N,fe,pe)=>{if(ee.value&&A.value.enabled&&A.value.dragSelect)return r("select-date",N);if(r("set-hover-date",N),N.marker?.tooltip?.length){if(a.hideOffsetDates&&!N.current)return;await k(N,fe,pe)}},$=N=>{B.value&&(B.value=null,z.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",N.marker))},K=N=>{g.value.startX=N.changedTouches[0].screenX,g.value.startY=N.changedTouches[0].screenY},w=N=>{g.value.endX=N.changedTouches[0].screenX,g.value.endY=N.changedTouches[0].screenY,u()},ae=N=>{a.vertical&&!a.inline&&N.preventDefault()},u=()=>{const N=a.vertical?"Y":"X";Math.abs(g.value[`start${N}`]-g.value[`end${N}`])>10&&r("handle-swipe",g.value[`start${N}`]>g.value[`end${N}`]?"right":"left")},te=(N,fe,pe)=>{N&&(Array.isArray(E.value[fe])?E.value[fe][pe]=N:E.value[fe]=[N]),a.arrowNavigation&&m(E.value,"calendar")},x=N=>{a.monthChangeOnScroll&&(N.preventDefault(),r("handle-scroll",N))},Y=N=>p.value.type==="local"?s.getWeek(N.value,{weekStartsOn:+a.weekStart}):p.value.type==="iso"?s.getISOWeek(N.value):typeof p.value.type=="function"?p.value.type(N.value):"",Q=N=>{const fe=N[0];return p.value.hideOnOffsetDates?N.some(pe=>pe.current)?Y(fe):"":Y(fe)},f=(N,fe,pe=!0)=>{!pe&&Fn()||(!A.value.enabled||h.value.allowPreventDefault)&&(Ue(N,h.value),r("select-date",fe))},i=N=>{Ue(N,h.value)},q=N=>{A.value.enabled&&A.value.dragSelect?(ee.value=!0,r("select-date",N)):A.value.enabled&&r("select-date",N)};return n({triggerTransition:R}),(N,fe)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(y.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:P,class:e.normalizeClass(G.value),role:"grid"},[e.createElementVNode("div",sr,[N.weekNumbers?(e.openBlock(),e.createElementBlock("div",ir,e.toDisplayString(N.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(S.value,(pe,F)=>(e.openBlock(),e.createElementBlock("div",{key:F,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":e.unref(d)?.weekDay?.(F)},[N.$slots["calendar-header"]?e.renderSlot(N.$slots,"calendar-header",{key:0,day:pe,index:F}):e.createCommentVNode("",!0),N.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(pe),1)],64))],8,ur))),128))]),fe[2]||(fe[2]=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1)),e.createVNode(e.Transition,{name:C.value,css:!!N.transitions},{default:e.withCtx(()=>[D.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:fe[1]||(fe[1]=pe=>ee.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(W.value,(pe,F)=>(e.openBlock(),e.createElementBlock("div",{key:F,class:"dp__calendar_row",role:"row"},[N.weekNumbers?(e.openBlock(),e.createElementBlock("div",cr,[e.createElementVNode("div",dr,e.toDisplayString(Q(pe.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(pe.days,(o,V)=>(e.openBlock(),e.createElementBlock("div",{id:e.unref(Wt)(o.value),ref_for:!0,ref:j=>te(j,F,V),key:V+F,role:"gridcell",class:"dp__calendar_item","aria-selected":(o.classData.dp__active_date||o.classData.dp__range_start||o.classData.dp__range_end)??void 0,"aria-disabled":o.classData.dp__cell_disabled||void 0,"aria-label":e.unref(d)?.day?.(o),tabindex:!o.current&&N.hideOffsetDates?void 0:0,"data-test-id":e.unref(Wt)(o.value),onClick:e.withModifiers(j=>f(j,o),["prevent"]),onTouchend:j=>f(j,o,!1),onKeydown:j=>e.unref(Ae)(j,()=>N.$emit("select-date",o)),onMouseenter:j=>U(o,F,V),onMouseleave:j=>$(o),onMousedown:j=>q(o),onMouseup:fe[0]||(fe[0]=j=>ee.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",o.classData])},[N.$slots.day&&O.value(o)?e.renderSlot(N.$slots,"day",{key:0,day:+o.text,date:o.value}):e.createCommentVNode("",!0),N.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64)),o.marker&&O.value(o)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[N.$slots.marker?e.renderSlot(N.$slots,"marker",{key:0,marker:o.marker,day:+o.text,date:o.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(oe.value(o.marker)),style:e.normalizeStyle(o.marker.color?{backgroundColor:o.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),ce.value(o.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:L,class:"dp__marker_tooltip",style:e.normalizeStyle(z.value)},[o.marker?.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:i},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.marker.tooltip,(j,ne)=>(e.openBlock(),e.createElementBlock("div",{key:ne,class:"dp__tooltip_text"},[N.$slots["marker-tooltip"]?e.renderSlot(N.$slots,"marker-tooltip",{key:0,tooltip:j,day:o.value}):e.createCommentVNode("",!0),N.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(j.color?{backgroundColor:j.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(j.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(I.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,fr))),128))]))),128))],32)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2)],2))}}),_n=t=>Array.isArray(t),pr=(t,n,l,r)=>{const a=e.ref([]),m=e.ref(new Date),c=e.ref(),h=()=>w(t.isTextInputDate),{modelValue:d,calendars:T,time:p,today:A}=mt(t,n,h),{defaultedMultiCalendars:b,defaultedStartTime:B,defaultedRange:z,defaultedConfig:E,defaultedTz:P,propDates:D,defaultedMultiDates:C}=he(t),{validateMonthYearInRange:g,isDisabled:L,isDateRangeAllowed:I,checkMinMaxRange:ee}=Ge(t),{updateTimeValues:W,getSetDateTime:S,setTime:X,assignStartTime:R,validateTime:G,disabledTimesConfig:oe}=Vn(t,p,d,r),ce=e.computed(()=>v=>T.value[v]?T.value[v].month:0),y=e.computed(()=>v=>T.value[v]?T.value[v].year:0),O=v=>!E.value.keepViewOnOffsetClick||v?!0:!c.value,J=(v,Z,ie,_=!1)=>{O(_)&&(T.value[v]||(T.value[v]={month:0,year:0}),T.value[v].month=mn(Z)?T.value[v]?.month:Z,T.value[v].year=mn(ie)?T.value[v]?.year:ie)},k=()=>{t.autoApply&&n("select-date")},U=()=>{B.value&&R(B.value)};e.onMounted(()=>{t.shadow||(d.value||(fe(),U()),w(!0),t.focusStartDate&&t.startDate&&fe())});const $=e.computed(()=>t.flow?.length&&!t.partialFlow?t.flowStep===t.flow.length:!0),K=()=>{t.autoApply&&$.value&&n("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},w=(v=!1)=>{if(d.value)return Array.isArray(d.value)?(a.value=d.value,f(v)):te(d.value,v);if(b.value.count&&v&&!t.startDate)return u(H(),v)},ae=()=>Array.isArray(d.value)&&z.value.enabled?s.getMonth(d.value[0])===s.getMonth(d.value[1]??d.value[0]):!1,u=(v=new Date,Z=!1)=>{if((!b.value.count||!b.value.static||Z)&&J(0,s.getMonth(v),s.getYear(v)),b.value.count&&(!d.value||ae()||!b.value.solo)&&(!b.value.solo||Z))for(let ie=1;ie<b.value.count;ie++){const _=s.set(H(),{month:ce.value(ie-1),year:y.value(ie-1)}),re=s.add(_,{months:1});T.value[ie]={month:s.getMonth(re),year:s.getYear(re)}}},te=(v,Z)=>{u(v),X("hours",s.getHours(v)),X("minutes",s.getMinutes(v)),X("seconds",s.getSeconds(v)),b.value.count&&Z&&N()},x=v=>{if(b.value.count){if(b.value.solo)return 0;const Z=s.getMonth(v[0]),ie=s.getMonth(v[1]);return Math.abs(ie-Z)<b.value.count?0:1}return 1},Y=(v,Z)=>{v[1]&&z.value.showLastInRange?u(v[x(v)],Z):u(v[0],Z);const ie=(_,re)=>[_(v[0]),v[1]?_(v[1]):p[re][1]];X("hours",ie(s.getHours,"hours")),X("minutes",ie(s.getMinutes,"minutes")),X("seconds",ie(s.getSeconds,"seconds"))},Q=(v,Z)=>{if((z.value.enabled||t.weekPicker)&&!C.value.enabled)return Y(v,Z);if(C.value.enabled&&Z){const ie=v[v.length-1];return te(ie,Z)}},f=v=>{const Z=d.value;Q(Z,v),b.value.count&&b.value.solo&&N()},i=(v,Z)=>{const ie=s.set(H(),{month:ce.value(Z),year:y.value(Z)}),_=v<0?s.addMonths(ie,1):s.subMonths(ie,1);g(s.getMonth(_),s.getYear(_),v<0,t.preventMinMaxNavigation)&&(J(Z,s.getMonth(_),s.getYear(_)),n("update-month-year",{instance:Z,month:s.getMonth(_),year:s.getYear(_)}),b.value.count&&!b.value.solo&&q(Z),l())},q=v=>{for(let Z=v-1;Z>=0;Z--){const ie=s.subMonths(s.set(H(),{month:ce.value(Z+1),year:y.value(Z+1)}),1);J(Z,s.getMonth(ie),s.getYear(ie))}for(let Z=v+1;Z<=b.value.count-1;Z++){const ie=s.addMonths(s.set(H(),{month:ce.value(Z-1),year:y.value(Z-1)}),1);J(Z,s.getMonth(ie),s.getYear(ie))}},N=()=>{if(Array.isArray(d.value)&&d.value.length===2){const v=H(H(d.value[1]?d.value[1]:s.addMonths(d.value[0],1))),[Z,ie]=[s.getMonth(d.value[0]),s.getYear(d.value[0])],[_,re]=[s.getMonth(d.value[1]),s.getYear(d.value[1])];(Z!==_||Z===_&&ie!==re)&&b.value.solo&&J(1,s.getMonth(v),s.getYear(v))}else d.value&&!Array.isArray(d.value)&&(J(0,s.getMonth(d.value),s.getYear(d.value)),u(H()))},fe=()=>{t.startDate&&(J(0,s.getMonth(H(t.startDate)),s.getYear(H(t.startDate))),b.value.count&&q(0))},pe=(v,Z)=>{if(t.monthChangeOnScroll){const ie=new Date().getTime()-m.value.getTime(),_=Math.abs(v.deltaY);let re=500;_>1&&(re=100),_>100&&(re=0),ie>re&&(m.value=new Date,i(t.monthChangeOnScroll!=="inverse"?-v.deltaY:v.deltaY,Z))}},F=(v,Z,ie=!1)=>{t.monthChangeOnArrows&&t.vertical===ie&&o(v,Z)},o=(v,Z)=>{i(v==="right"?-1:1,Z)},V=v=>{if(D.value.markers)return pt(v.value,D.value.markers)},j=(v,Z)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[v==0,!0];case"fair":return[v==0||Z>v,!0];case"append":return[!1,!1];default:return[!1,!1]}},ne=(v,Z,ie,_)=>{if(t.sixWeeks&&v.length<6){const re=6-v.length,ue=(Z.getDay()+7-_)%7,ze=6-(ie.getDay()+7-_)%7,[Fe,ln]=j(ue,ze);for(let et=1;et<=re;et++)if(ln?!!(et%2)==Fe:Fe){const Mt=v[0].days[0],on=de(s.addDays(Mt.value,-7),s.getMonth(Z));v.unshift({days:on})}else{const Mt=v[v.length-1],on=Mt.days[Mt.days.length-1],Kr=de(s.addDays(on.value,1),s.getMonth(Z));v.push({days:Kr})}}return v},de=(v,Z)=>{const ie=H(v),_=[];for(let re=0;re<7;re++){const ue=s.addDays(ie,re),We=s.getMonth(ue)!==Z;_.push({text:t.hideOffsetDates&&We?"":ue.getDate(),value:ue,current:!We,classData:{}})}return _},we=(v,Z)=>{const ie=[],_=new Date(Z,v),re=new Date(Z,v+1,0),ue=t.weekStart,We=s.startOfWeek(_,{weekStartsOn:ue}),ze=Fe=>{const ln=de(Fe,v);if(ie.push({days:ln}),!ie[ie.length-1].days.some(et=>me(Ce(et.value),Ce(re)))){const et=s.addDays(Fe,7);ze(et)}};return ze(We),ne(ie,_,re,ue)},Me=v=>{const Z=je(H(v.value),p.hours,p.minutes,Ee());n("date-update",Z),C.value.enabled?Gt(Z,d,C.value.limit):d.value=Z,r(),e.nextTick().then(()=>{K()})},Oe=v=>z.value.noDisabledRange?vn(a.value[0],v).some(ie=>L(ie)):!1,Ze=()=>{a.value=d.value?d.value.slice():[],a.value.length===2&&!(z.value.fixedStart||z.value.fixedEnd)&&(a.value=[])},M=(v,Z)=>{const ie=[H(v.value),s.addDays(H(v.value),+z.value.autoRange)];I(ie)?(Z&&le(v.value),a.value=ie):n("invalid-date",v.value)},le=v=>{const Z=s.getMonth(H(v)),ie=s.getYear(H(v));if(J(0,Z,ie),b.value.count>0)for(let _=1;_<b.value.count;_++){const re=na(s.set(H(v),{year:y.value(_-1),month:ce.value(_-1)}));J(_,re.month,re.year)}},se=v=>{if(Oe(v.value)||!ee(v.value,d.value,z.value.fixedStart?0:1))return n("invalid-date",v.value);a.value=En(H(v.value),d,n,z)},Qe=(v,Z)=>{if(Ze(),z.value.autoRange)return M(v,Z);if(z.value.fixedStart||z.value.fixedEnd)return se(v);a.value[0]?ee(H(v.value),d.value)&&!Oe(v.value)?ke(H(v.value),H(a.value[0]))?(a.value.unshift(H(v.value)),n("range-end",a.value[0])):(a.value[1]=H(v.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",v.value),n("invalid-date",v.value)):(a.value[0]=H(v.value),n("range-start",a.value[0]))},Ee=(v=!0)=>t.enableSeconds?Array.isArray(p.seconds)?v?p.seconds[0]:p.seconds[1]:p.seconds:0,Re=v=>{a.value[v]=je(a.value[v],p.hours[v],p.minutes[v],Ee(v!==1))},Zt=()=>{a.value[0]&&a.value[1]&&+a.value?.[0]>+a.value?.[1]&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},Ft=()=>{a.value.length&&(a.value[0]&&!a.value[1]?Re(0):(Re(0),Re(1),r()),Zt(),d.value=a.value.slice(),bt(a.value,n,t.autoApply,t.modelAuto))},wt=(v,Z=!1)=>{if(L(v.value)||!v.current&&t.hideOffsetDates)return n("invalid-date",v.value);if(c.value=JSON.parse(JSON.stringify(v)),!z.value.enabled)return Me(v);_n(p.hours)&&_n(p.minutes)&&!C.value.enabled&&(Qe(v,Z),Ft())},en=(v,Z)=>{J(v,Z.month,Z.year,!0),b.value.count&&!b.value.solo&&q(v),n("update-month-year",{instance:v,month:Z.month,year:Z.year}),l(b.value.solo?v:void 0);const ie=t.flow?.length?t.flow[t.flowStep]:void 0;!Z.fromNav&&(ie===Be.month||ie===Be.year)&&r()},tn=(v,Z)=>{Nn({value:v,modelValue:d,range:z.value.enabled,timezone:Z?void 0:P.value.timezone}),k(),t.multiCalendars&&e.nextTick().then(()=>w(!0))},nn=()=>{const v=Tt(H(),P.value);!z.value.enabled&&!C.value.enabled?d.value=v:d.value&&Array.isArray(d.value)&&d.value[0]?C.value.enabled?d.value=[...d.value,v]:d.value=ke(v,d.value[0])?[v,d.value[0]]:[d.value[0],v]:d.value=[v],k()},an=()=>{if(Array.isArray(d.value))if(C.value.enabled){const v=rn();d.value[d.value.length-1]=S(v)}else d.value=d.value.map((v,Z)=>v&&S(v,Z));else d.value=S(d.value);n("time-update")},rn=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null;return{calendars:T,modelValue:d,month:ce,year:y,time:p,disabledTimesConfig:oe,today:A,validateTime:G,getCalendarDays:we,getMarker:V,handleScroll:pe,handleSwipe:o,handleArrow:F,selectDate:wt,updateMonthYear:en,presetDate:tn,selectCurrentDate:nn,updateTime:(v,Z=!0,ie=!1)=>{W(v,Z,ie,an)},assignMonthAndYear:u,setStartTime:U}},gr={key:0},yr=e.defineComponent({__name:"DatePicker",props:{...Ie},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,{calendars:m,month:c,year:h,modelValue:d,time:T,disabledTimesConfig:p,today:A,validateTime:b,getCalendarDays:B,getMarker:z,handleArrow:E,handleScroll:P,handleSwipe:D,selectDate:C,updateMonthYear:g,presetDate:L,selectCurrentDate:I,updateTime:ee,assignMonthAndYear:W,setStartTime:S}=pr(a,r,ae,u),X=e.useSlots(),{setHoverDate:R,getDayClassData:G,clearHoverDate:oe}=Er(d,a),{defaultedMultiCalendars:ce}=he(a),y=e.ref([]),O=e.ref([]),J=e.ref(null),k=Ne(X,"calendar"),U=Ne(X,"monthYear"),$=Ne(X,"timePicker"),K=F=>{a.shadow||r("mount",F)};e.watch(m,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0}),e.watch(ce,(F,o)=>{F.count-o.count>0&&W()},{deep:!0});const w=e.computed(()=>F=>B(c.value(F),h.value(F)).map(o=>({...o,days:o.days.map(V=>(V.marker=z(V),V.classData=G(V),V))})));function ae(F){F||F===0?O.value[F]?.triggerTransition(c.value(F),h.value(F)):O.value.forEach((o,V)=>o.triggerTransition(c.value(V),h.value(V)))}function u(){r("update-flow-step")}const te=(F,o=!1)=>{C(F,o),a.spaceConfirm&&r("select-date")},x=(F,o,V=0)=>{y.value[V]?.toggleMonthPicker(F,o)},Y=(F,o,V=0)=>{y.value[V]?.toggleYearPicker(F,o)},Q=(F,o,V)=>{J.value?.toggleTimePicker(F,o,V)},f=(F,o)=>{if(!a.range){const V=d.value?d.value:A,j=o?new Date(o):V,ne=F?s.startOfWeek(j,{weekStartsOn:1}):s.endOfWeek(j,{weekStartsOn:1});C({value:ne,current:s.getMonth(j)===c.value(0),text:"",classData:{}}),document.getElementById(Wt(ne))?.focus()}},i=F=>{y.value[0]?.handleMonthYearChange(F,!0)},q=F=>{g(0,{month:c.value(0),year:h.value(0)+(F?1:-1),fromNav:!0})},N=(F,o)=>{F===Be.time&&r(`time-picker-${o?"open":"close"}`),r("overlay-toggle",{open:o,overlay:F})},fe=F=>{r("overlay-toggle",{open:!1,overlay:F}),r("focus-menu")};return n({clearHoverDate:oe,presetDate:L,selectCurrentDate:I,toggleMonthPicker:x,toggleYearPicker:Y,toggleTimePicker:Q,handleArrow:E,updateMonthYear:g,getSidebarProps:()=>({modelValue:d,month:c,year:h,time:T,updateTime:ee,updateMonthYear:g,selectDate:C,presetDate:L}),changeMonth:i,changeYear:q,selectWeekDate:f,setStartTime:S}),(F,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(kt,{"multi-calendars":e.unref(ce).count,collapse:F.collapse,"is-mobile":F.isMobile},{default:e.withCtx(({instance:V,index:j})=>[F.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(or,e.mergeProps({key:0,ref:ne=>{ne&&(y.value[j]=ne)},months:e.unref(cn)(F.formatLocale,F.locale,F.monthNameFormat),years:e.unref(Pt)(F.yearRange,F.locale,F.reverseYears),month:e.unref(c)(V),year:e.unref(h)(V),instance:V},F.$props,{onMount:o[0]||(o[0]=ne=>K(e.unref(Xe).header)),onResetFlow:o[1]||(o[1]=ne=>F.$emit("reset-flow")),onUpdateMonthYear:ne=>e.unref(g)(V,ne),onOverlayClosed:fe,onOverlayOpened:o[2]||(o[2]=ne=>F.$emit("overlay-toggle",{open:!0,overlay:ne}))}),e.createSlots({_:2},[e.renderList(e.unref(U),(ne,de)=>({name:ne,fn:e.withCtx(we=>[e.renderSlot(F.$slots,ne,e.normalizeProps(e.guardReactiveProps(we)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(mr,e.mergeProps({ref:ne=>{ne&&(O.value[j]=ne)},"mapped-dates":w.value(V),month:e.unref(c)(V),year:e.unref(h)(V),instance:V},F.$props,{onSelectDate:ne=>e.unref(C)(ne,V!==1),onHandleSpace:ne=>te(ne,V!==1),onSetHoverDate:o[3]||(o[3]=ne=>e.unref(R)(ne)),onHandleScroll:ne=>e.unref(P)(ne,V),onHandleSwipe:ne=>e.unref(D)(ne,V),onMount:o[4]||(o[4]=ne=>K(e.unref(Xe).calendar)),onResetFlow:o[5]||(o[5]=ne=>F.$emit("reset-flow")),onTooltipOpen:o[6]||(o[6]=ne=>F.$emit("tooltip-open",ne)),onTooltipClose:o[7]||(o[7]=ne=>F.$emit("tooltip-close",ne))}),e.createSlots({_:2},[e.renderList(e.unref(k),(ne,de)=>({name:ne,fn:e.withCtx(we=>[e.renderSlot(F.$slots,ne,e.normalizeProps(e.guardReactiveProps({...we})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),F.enableTimePicker?(e.openBlock(),e.createElementBlock("div",gr,[F.$slots["time-picker"]?e.renderSlot(F.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(T),updateTime:e.unref(ee)}))):(e.openBlock(),e.createBlock(Yn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:J},F.$props,{hours:e.unref(T).hours,minutes:e.unref(T).minutes,seconds:e.unref(T).seconds,"internal-model-value":F.internalModelValue,"disabled-times-config":e.unref(p),"validate-time":e.unref(b),onMount:o[8]||(o[8]=V=>K(e.unref(Xe).timePicker)),"onUpdate:hours":o[9]||(o[9]=V=>e.unref(ee)(V)),"onUpdate:minutes":o[10]||(o[10]=V=>e.unref(ee)(V,!1)),"onUpdate:seconds":o[11]||(o[11]=V=>e.unref(ee)(V,!1,!0)),onResetFlow:o[12]||(o[12]=V=>F.$emit("reset-flow")),onOverlayClosed:o[13]||(o[13]=V=>N(V,!1)),onOverlayOpened:o[14]||(o[14]=V=>N(V,!0)),onAmPmChange:o[15]||(o[15]=V=>F.$emit("am-pm-change",V))}),e.createSlots({_:2},[e.renderList(e.unref($),(V,j)=>({name:V,fn:e.withCtx(ne=>[e.renderSlot(F.$slots,V,e.normalizeProps(e.guardReactiveProps(ne)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),hr=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:m,defaultedRange:c,propDates:h,defaultedFilters:d,defaultedMultiDates:T}=he(t),{modelValue:p,year:A,month:b,calendars:B}=mt(t,n),{isDisabled:z}=Ge(t),{selectYear:E,groupedYears:P,showYearPicker:D,isDisabled:C,toggleYearPicker:g,handleYearSelect:L,handleYear:I}=On({modelValue:p,multiCalendars:r,range:c,highlight:m,calendars:B,propDates:h,month:b,year:A,filters:d,props:t,emit:n}),ee=(k,U)=>[k,U].map($=>s.format($,"MMMM",{locale:t.formatLocale})).join("-"),W=e.computed(()=>k=>p.value?Array.isArray(p.value)?p.value.some(U=>s.isSameQuarter(k,U)):s.isSameQuarter(p.value,k):!1),S=k=>{if(c.value.enabled){if(Array.isArray(p.value)){const U=me(k,p.value[0])||me(k,p.value[1]);return it(p.value,l.value,k)&&!U}return!1}return!1},X=(k,U)=>k.quarter===s.getQuarter(U)&&k.year===s.getYear(U),R=k=>typeof m.value=="function"?m.value({quarter:s.getQuarter(k),year:s.getYear(k)}):!!m.value.quarters.find(U=>X(U,k)),G=e.computed(()=>k=>{const U=s.set(new Date,{year:A.value(k)});return s.eachQuarterOfInterval({start:s.startOfYear(U),end:s.endOfYear(U)}).map($=>{const K=s.startOfQuarter($),w=s.endOfQuarter($),ae=z($),u=S(K),te=R(K);return{text:ee(K,w),value:K,active:W.value(K),highlighted:te,disabled:ae,isBetween:u}})}),oe=k=>{Gt(k,p,T.value.limit),n("auto-apply",!0)},ce=k=>{p.value=Qt(p,k,n),bt(p.value,n,t.autoApply,t.modelAuto)},y=k=>{p.value=k,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:P,year:A,isDisabled:C,quarters:G,showYearPicker:D,modelValue:p,setHoverDate:k=>{l.value=k},selectYear:E,selectQuarter:(k,U,$)=>{if(!$)return B.value[U].month=s.getMonth(s.endOfQuarter(k)),T.value.enabled?oe(k):c.value.enabled?ce(k):y(k)},toggleYearPicker:g,handleYearSelect:L,handleYear:I}},kr={class:"dp--quarter-items"},br=["data-test-id","disabled","onClick","onMouseover"],vr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ie},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),c=Ne(m,"yearMode"),{defaultedMultiCalendars:h,defaultedConfig:d,groupedYears:T,year:p,isDisabled:A,quarters:b,modelValue:B,showYearPicker:z,setHoverDate:E,selectQuarter:P,toggleYearPicker:D,handleYearSelect:C,handleYear:g}=hr(a,r);return n({getSidebarProps:()=>({modelValue:B,year:p,selectQuarter:P,handleYearSelect:C,handleYear:g})}),(I,ee)=>(e.openBlock(),e.createBlock(kt,{"multi-calendars":e.unref(h).count,collapse:I.collapse,stretch:"","is-mobile":I.isMobile},{default:e.withCtx(({instance:W})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(d).modeHeight}px`})},[I.$slots["top-extra"]?e.renderSlot(I.$slots,"top-extra",{key:0,value:I.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Rn,e.mergeProps(I.$props,{items:e.unref(T)(W),instance:W,"show-year-picker":e.unref(z)[W],year:e.unref(p)(W),"is-disabled":S=>e.unref(A)(W,S),onHandleYear:S=>e.unref(g)(W,S),onYearSelect:S=>e.unref(C)(S,W),onToggleYearPicker:S=>e.unref(D)(W,S?.flow,S?.show)}),e.createSlots({_:2},[e.renderList(e.unref(c),(S,X)=>({name:S,fn:e.withCtx(R=>[e.renderSlot(I.$slots,S,e.normalizeProps(e.guardReactiveProps(R)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",kr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(b)(W),(S,X)=>(e.openBlock(),e.createElementBlock("div",{key:X},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),"data-test-id":S.value,disabled:S.disabled,onClick:R=>e.unref(P)(S.value,W,S.disabled),onMouseover:R=>e.unref(E)(S.value)},[I.$slots.quarter?e.renderSlot(I.$slots,"quarter",{key:0,value:S.value,text:S.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(S.text),1)],64))],42,br)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),In=(t,n)=>{const l=e.ref(0);e.onMounted(()=>{r(),window.addEventListener("resize",r,{passive:!0})}),e.onUnmounted(()=>{window.removeEventListener("resize",r)});const r=()=>{l.value=window.document.documentElement.clientWidth};return{isMobile:e.computed(()=>l.value<=t.value.mobileBreakpoint&&!n?!0:void 0)}},wr=["id","tabindex","role","aria-label"],Mr={key:0,class:"dp--menu-load-container"},Dr={key:1,class:"dp--menu-header"},Sr=["data-dp-mobile"],Cr={key:0,class:"dp__sidebar_left"},Br=["data-dp-mobile"],$r=["data-test-id","data-dp-mobile","onClick","onKeydown"],Tr={key:2,class:"dp__sidebar_right"},Ar={key:3,class:"dp__action_extra"},zn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ht,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.ref(null),c=e.computed(()=>{const{openOnTop:M,...le}=a;return{...le,isMobile:P.value,flowStep:ce.value,menuWrapRef:m.value}}),{setMenuFocused:h,setShiftKey:d,control:T}=Tn(),p=e.useSlots(),{defaultedTextInput:A,defaultedInline:b,defaultedConfig:B,defaultedUI:z,handleEventPropagation:E}=he(a),{isMobile:P}=In(B,a.shadow),D=e.ref(null),C=e.ref(0),g=e.ref(null),L=e.ref(!1),I=e.ref(null),ee=e.ref(!1),W=M=>{ee.value=!0,B.value.allowPreventDefault&&M.preventDefault(),Ue(M,B.value,!0)};e.onMounted(()=>{if(!a.shadow){L.value=!0,S(),window.addEventListener("resize",S);const M=De(m);M&&!A.value.enabled&&!b.value.enabled&&(h(!0),K()),M&&(M.addEventListener("pointerdown",W),M.addEventListener("mousedown",W))}document.addEventListener("mousedown",Oe)}),e.onUnmounted(()=>{window.removeEventListener("resize",S),document.removeEventListener("mousedown",Oe);const M=De(m);M&&(M.removeEventListener("pointerdown",W),M.removeEventListener("mousedown",W))});const S=()=>{const M=De(g);M&&(C.value=M.getBoundingClientRect().width)},{arrowRight:X,arrowLeft:R,arrowDown:G,arrowUp:oe}=Ke(),{flowStep:ce,updateFlowStep:y,childMount:O,resetFlow:J,handleFlow:k}=Or(a,r,I),U=e.computed(()=>a.monthPicker?Ia:a.yearPicker?La:a.timePicker?er:a.quarterPicker?vr:yr),$=e.computed(()=>{if(B.value.arrowLeft)return B.value.arrowLeft;const M=m.value?.getBoundingClientRect(),le=a.getInputRect();return le?.width<C?.value&&le?.left<=(M?.left??0)?`${le?.width/2}px`:le?.right>=(M?.right??0)&&le?.width<C?.value?`${C?.value-le?.width/2}px`:"50%"}),K=()=>{const M=De(m);M&&M.focus({preventScroll:!0})},w=e.computed(()=>I.value?.getSidebarProps()||{}),ae=()=>{a.openOnTop&&r("recalculate-position")},u=Ne(p,"action"),te=e.computed(()=>a.monthPicker||a.yearPicker?Ne(p,"monthYear"):a.timePicker?Ne(p,"timePicker"):Ne(p,"shared")),x=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Y=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),Q=e.computed(()=>({dp__menu:!0,dp__menu_index:!b.value.enabled,dp__relative:b.value.enabled,...z.value.menu??{}})),f=M=>{Ue(M,B.value,!0)},i=M=>{a.escClose&&(r("close-picker"),E(M))},q=M=>{if(a.arrowNavigation){if(M===Te.up)return oe();if(M===Te.down)return G();if(M===Te.left)return R();if(M===Te.right)return X()}else M===Te.left||M===Te.up?o("handleArrow",Te.left,0,M===Te.up):o("handleArrow",Te.right,0,M===Te.down)},N=M=>{d(M.shiftKey),!a.disableMonthYearSelect&&M.code===ge.tab&&M.target.classList.contains("dp__menu")&&T.value.shiftKeyInMenu&&(M.preventDefault(),Ue(M,B.value,!0),r("close-picker"))},fe=()=>{K(),r("time-picker-close")},pe=M=>{I.value?.toggleTimePicker(!1,!1),I.value?.toggleMonthPicker(!1,!1,M),I.value?.toggleYearPicker(!1,!1,M)},F=(M,le=0)=>M==="month"?I.value?.toggleMonthPicker(!1,!0,le):M==="year"?I.value?.toggleYearPicker(!1,!0,le):M==="time"?I.value?.toggleTimePicker(!0,!1):pe(le),o=(M,...le)=>{I.value?.[M]&&I.value?.[M](...le)},V=()=>{o("selectCurrentDate")},j=(M,le)=>{o("presetDate",e.toValue(M),le)},ne=()=>{o("clearHoverDate")},de=(M,le)=>{o("updateMonthYear",M,le)},we=(M,le)=>{M.preventDefault(),q(le)},Me=M=>{if(N(M),M.key===ge.home||M.key===ge.end)return o("selectWeekDate",M.key===ge.home,M.target.getAttribute("id"));switch((M.key===ge.pageUp||M.key===ge.pageDown)&&(M.shiftKey?(o("changeYear",M.key===ge.pageUp),Nt(m.value,"overlay-year")?.focus()):(o("changeMonth",M.key===ge.pageUp),Nt(m.value,M.key===ge.pageUp?"action-prev":"action-next")?.focus()),M.target.getAttribute("id")&&m.value?.focus({preventScroll:!0})),M.key){case ge.esc:return i(M);case ge.arrowLeft:return we(M,Te.left);case ge.arrowRight:return we(M,Te.right);case ge.arrowUp:return we(M,Te.up);case ge.arrowDown:return we(M,Te.down);default:return}},Oe=M=>{b.value.enabled&&!b.value.input&&!m.value?.contains(M.target)&&ee.value&&(ee.value=!1,r("menu-blur"))};return n({updateMonthYear:de,switchView:F,handleFlow:k,onValueCleared:()=>{I.value?.setStartTime?.()}}),(M,le)=>(e.openBlock(),e.createElementBlock("div",{id:M.uid?`dp-menu-${M.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:e.unref(b).enabled?void 0:"0",role:e.unref(b).enabled?void 0:"dialog","aria-label":M.ariaLabels?.menu,class:e.normalizeClass(Q.value),style:e.normalizeStyle({"--dp-arrow-left":$.value}),onMouseleave:ne,onClick:f,onKeydown:Me},[(M.disabled||M.readonly)&&e.unref(b).enabled||M.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(Y.value)},[M.loading?(e.openBlock(),e.createElementBlock("div",Mr,[...le[19]||(le[19]=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)])])):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),M.$slots["menu-header"]?(e.openBlock(),e.createElementBlock("div",Dr,[e.renderSlot(M.$slots,"menu-header")])):e.createCommentVNode("",!0),!e.unref(b).enabled&&!M.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(x.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:g,class:e.normalizeClass({dp__menu_content_wrapper:M.presetDates?.length||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(M.presetDates?.length||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"])}),"data-dp-mobile":e.unref(P),style:e.normalizeStyle({"--dp-menu-width":`${C.value}px`})},[M.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Cr,[e.renderSlot(M.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(w.value)))])):e.createCommentVNode("",!0),M.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0}),"data-dp-mobile":e.unref(P)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.presetDates,(se,Qe)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:Qe},[se.slot?e.renderSlot(M.$slots,se.slot,{key:0,presetDate:j,label:se.label,value:se.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(se.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test-id":se.testId??void 0,"data-dp-mobile":e.unref(P),onClick:e.withModifiers(Ee=>j(se.value,se.noTz),["prevent"]),onKeydown:Ee=>e.unref(Ae)(Ee,()=>j(se.value,se.noTz),!0)},e.toDisplayString(se.label),47,$r))],64))),128))],10,Br)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:D,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(U.value),e.mergeProps({ref_key:"dynCmpRef",ref:I},c.value,{"flow-step":e.unref(ce),onMount:e.unref(O),onUpdateFlowStep:e.unref(y),onResetFlow:e.unref(J),onFocusMenu:K,onSelectDate:le[0]||(le[0]=se=>M.$emit("select-date")),onDateUpdate:le[1]||(le[1]=se=>M.$emit("date-update",se)),onTooltipOpen:le[2]||(le[2]=se=>M.$emit("tooltip-open",se)),onTooltipClose:le[3]||(le[3]=se=>M.$emit("tooltip-close",se)),onAutoApply:le[4]||(le[4]=se=>M.$emit("auto-apply",se)),onRangeStart:le[5]||(le[5]=se=>M.$emit("range-start",se)),onRangeEnd:le[6]||(le[6]=se=>M.$emit("range-end",se)),onInvalidFixedRange:le[7]||(le[7]=se=>M.$emit("invalid-fixed-range",se)),onTimeUpdate:le[8]||(le[8]=se=>M.$emit("time-update")),onAmPmChange:le[9]||(le[9]=se=>M.$emit("am-pm-change",se)),onTimePickerOpen:le[10]||(le[10]=se=>M.$emit("time-picker-open",se)),onTimePickerClose:fe,onRecalculatePosition:ae,onUpdateMonthYear:le[11]||(le[11]=se=>M.$emit("update-month-year",se)),onAutoApplyInvalid:le[12]||(le[12]=se=>M.$emit("auto-apply-invalid",se)),onInvalidDate:le[13]||(le[13]=se=>M.$emit("invalid-date",se)),onOverlayToggle:le[14]||(le[14]=se=>M.$emit("overlay-toggle",se)),"onUpdate:internalModelValue":le[15]||(le[15]=se=>M.$emit("update:internal-model-value",se))}),e.createSlots({_:2},[e.renderList(te.value,(se,Qe)=>({name:se,fn:e.withCtx(Ee=>[e.renderSlot(M.$slots,se,e.normalizeProps(e.guardReactiveProps({...Ee})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),M.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Tr,[e.renderSlot(M.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(w.value)))])):e.createCommentVNode("",!0),M.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Ar,[M.$slots["action-extra"]?e.renderSlot(M.$slots,"action-extra",{key:0,selectCurrentDate:V}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],14,Sr),!M.autoApply||e.unref(B).keepActionRow?(e.openBlock(),e.createBlock(Aa,e.mergeProps({key:3,"menu-mount":L.value},c.value,{"calendar-width":C.value,onClosePicker:le[16]||(le[16]=se=>M.$emit("close-picker")),onSelectDate:le[17]||(le[17]=se=>M.$emit("select-date")),onInvalidSelect:le[18]||(le[18]=se=>M.$emit("invalid-select")),onSelectNow:V}),e.createSlots({_:2},[e.renderList(e.unref(u),(se,Qe)=>({name:se,fn:e.withCtx(Ee=>[e.renderSlot(M.$slots,se,e.normalizeProps(e.guardReactiveProps({...Ee})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,wr))}});var ot=(t=>(t.center="center",t.left="left",t.right="right",t))(ot||{});const Pr=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:r,inline:a,emit:m,props:c,slots:h})=>{const{defaultedConfig:d}=he(c),T=e.ref({}),p=e.ref(!1),A=e.ref({top:"0",left:"0"}),b=e.ref(!1),B=e.toRef(c,"teleportCenter");e.watch(B,()=>{A.value=JSON.parse(JSON.stringify({})),I()});const z=k=>{if(c.teleport){const U=k.getBoundingClientRect();return{left:U.left+window.scrollX,top:U.top+window.scrollY}}return{top:0,left:0}},E=(k,U)=>{A.value.left=`${k+U-T.value.width}px`},P=k=>{A.value.left=`${k}px`},D=(k,U)=>{c.position===ot.left&&P(k),c.position===ot.right&&E(k,U),c.position===ot.center&&(A.value.left=`${k+U/2-T.value.width/2}px`)},C=k=>{const{width:U,height:$}=k.getBoundingClientRect(),{top:K,left:w}=z(k);return{top:+K,left:+w,width:U,height:$}},g=()=>{A.value.left="50%",A.value.top="50%",A.value.transform="translate(-50%, -50%)",A.value.position="fixed",delete A.value.opacity},L=()=>{const k=De(l);A.value=c.altPosition(k)},I=(k=!0)=>{if(!a.value.enabled){if(B.value)return g();if(c.altPosition!==null)return L();if(k){const U=c.teleport?n.value?.$el:t.value;U&&(T.value=U.getBoundingClientRect()),m("recalculate-position")}return oe()}},ee=({inputEl:k,left:U,width:$})=>{window.screen.width>768&&!p.value&&D(U,$),X(k)},W=k=>{const{top:U,left:$,height:K,width:w}=C(k);A.value.top=`${K+U+ +c.offset}px`,b.value=!1,p.value||(A.value.left=`${$+w/2-T.value.width/2}px`),ee({inputEl:k,left:$,width:w})},S=k=>{const{top:U,left:$,width:K}=C(k);A.value.top=`${U-+c.offset-T.value.height}px`,b.value=!0,ee({inputEl:k,left:$,width:K})},X=k=>{if(c.autoPosition){const{left:U,width:$}=C(k),{left:K,right:w}=T.value;if(!p.value){if(Math.abs(K)!==Math.abs(w)){if(K<=0)return p.value=!0,P(U);if(w>=document.documentElement.clientWidth)return p.value=!0,E(U,$)}return D(U,$)}}},R=()=>{const k=De(l);if(k){if(c.autoPosition===Ve.top)return Ve.top;if(c.autoPosition===Ve.bottom)return Ve.bottom;const{height:U}=T.value,{top:$,height:K}=k.getBoundingClientRect(),ae=window.innerHeight-$-K,u=$;return U<=ae?Ve.bottom:U>ae&&U<=u?Ve.top:ae>=u?Ve.bottom:Ve.top}return Ve.bottom},G=k=>R()===Ve.bottom?W(k):S(k),oe=()=>{const k=De(l);if(k)return c.autoPosition?G(k):W(k)},ce=function(k){if(k){const U=k.scrollHeight>k.clientHeight,K=window.getComputedStyle(k).overflowY.indexOf("hidden")!==-1;return U&&!K}return!0},y=function(k){return!k||k===document.body||k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:ce(k)?k:y(k.assignedSlot&&d.value.shadowDom?k.assignedSlot.parentNode:k.parentNode)},O=k=>{if(k)switch(c.position){case ot.left:return{left:0,transform:"translateX(0)"};case ot.right:return{left:`${k.width}px`,transform:"translateX(-100%)"};default:return{left:`${k.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:b,menuStyle:A,xCorrect:p,setMenuPosition:I,getScrollableParent:y,shadowRender:(k,U,$)=>{const K=document.createElement("div"),w=De(l)?.getBoundingClientRect();K.setAttribute("id","dp--temp-container");const ae=r.value?.clientWidth?r.value:document.body;ae.append(K);const u=O(w),te=d.value.shadowDom?Object.keys(h).filter(Y=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(Y)):Object.keys(h),x=e.h(U,{...$,shadow:!0,style:{opacity:0,position:"absolute",...u}},Object.fromEntries(te.map(Y=>[Y,h[Y]])));k!=null&&(x.appContext=k.appContext),e.render(x,K),T.value=x.el?.getBoundingClientRect(),e.render(null,K),ae.removeChild(K)}}},qe=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],Rr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Nr={all:()=>qe,monthYear:()=>qe.filter(t=>t.use.includes("month-year")),input:()=>Rr,timePicker:()=>qe.filter(t=>t.use.includes("time")),action:()=>qe.filter(t=>t.use.includes("action")),calendar:()=>qe.filter(t=>t.use.includes("calendar")),menu:()=>qe.filter(t=>t.use.includes("menu")),shared:()=>qe.filter(t=>t.use.includes("shared")),yearMode:()=>qe.filter(t=>t.use.includes("year-mode"))},Ne=(t,n,l)=>{const r=[];return Nr[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),l?.length&&l.forEach(a=>{a.slot&&r.push(a.slot)}),r},ft=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),l=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},mt=(t,n,l)=>{const{defaultedRange:r,defaultedTz:a}=he(t),m=H(Pe(H(),a.value.timezone)),c=e.ref([{month:s.getMonth(m),year:s.getYear(m)}]),h=b=>{const B={hours:s.getHours(m),minutes:s.getMinutes(m),seconds:0};return r.value.enabled?[B[b],B[b]]:B[b]},d=e.reactive({hours:h("hours"),minutes:h("minutes"),seconds:h("seconds")});e.watch(r,(b,B)=>{b.enabled!==B.enabled&&(d.hours=h("hours"),d.minutes=h("minutes"),d.seconds=h("seconds"))},{deep:!0});const T=e.computed({get:()=>t.internalModelValue,set:b=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",b)}}),p=e.computed(()=>b=>c.value[b]?c.value[b].month:0),A=e.computed(()=>b=>c.value[b]?c.value[b].year:0);return e.watch(T,(b,B)=>{l&&JSON.stringify(b??{})!==JSON.stringify(B??{})&&l()},{deep:!0}),{calendars:c,time:d,modelValue:T,month:p,year:A,today:m}},Er=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:r,defaultedUI:a,defaultedHighlight:m,defaultedTz:c,propDates:h,defaultedRange:d}=he(n),{isDisabled:T}=Ge(n),p=e.ref(null),A=e.ref(Pe(new Date,c.value.timezone)),b=f=>{!f.current&&n.hideOffsetDates||(p.value=f.value)},B=()=>{p.value=null},z=f=>Array.isArray(t.value)&&d.value.enabled&&t.value[0]&&p.value?f?be(p.value,t.value[0]):ke(p.value,t.value[0]):!0,E=(f,i)=>{const q=()=>t.value?i?t.value[0]||null:t.value[1]:null,N=t.value&&Array.isArray(t.value)?q():null;return me(H(f.value),N)},P=f=>{const i=Array.isArray(t.value)?t.value[0]:null;return f?!ke(p.value??null,i):!0},D=(f,i=!0)=>(d.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!f.current?!1:me(H(f.value),t.value[i?0:1]):d.value.enabled?E(f,i)&&P(i)||me(f.value,Array.isArray(t.value)?t.value[0]:null)&&z(i):!1,C=(f,i)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const q=me(f.value,p.value);return i?be(t.value[0],f.value)&&q:ke(t.value[0],f.value)&&q}return!1},g=f=>!t.value||n.hideOffsetDates&&!f.current?!1:d.value.enabled?n.modelAuto&&Array.isArray(t.value)?me(f.value,t.value[0]?t.value[0]:A.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(i=>me(i,f.value)):me(f.value,t.value?t.value:A.value),L=f=>{if(d.value.autoRange||n.weekPicker){if(p.value){if(n.hideOffsetDates&&!f.current)return!1;const i=s.addDays(p.value,+d.value.autoRange),q=Le(H(p.value),n.weekStart);return n.weekPicker?me(q[1],H(f.value)):me(i,H(f.value))}return!1}return!1},I=f=>{if(d.value.autoRange||n.weekPicker){if(p.value){const i=s.addDays(p.value,+d.value.autoRange);if(n.hideOffsetDates&&!f.current)return!1;const q=Le(H(p.value),n.weekStart);return n.weekPicker?be(f.value,q[0])&&ke(f.value,q[1]):be(f.value,p.value)&&ke(f.value,i)}return!1}return!1},ee=f=>{if(d.value.autoRange||n.weekPicker){if(p.value){if(n.hideOffsetDates&&!f.current)return!1;const i=Le(H(p.value),n.weekStart);return n.weekPicker?me(i[0],f.value):me(p.value,f.value)}return!1}return!1},W=f=>it(t.value,p.value,f.value),S=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,X=()=>n.modelAuto?dn(n.internalModelValue):!0,R=f=>{if(n.weekPicker)return!1;const i=d.value.enabled?!D(f)&&!D(f,!1):!0;return!T(f.value)&&!g(f)&&!(!f.current&&n.hideOffsetDates)&&i},G=f=>d.value.enabled?n.modelAuto?S()&&g(f):!1:g(f),oe=f=>m.value?Zn(f.value,h.value.highlight):!1,ce=f=>{const i=T(f.value);return i&&(typeof m.value=="function"?!m.value(f.value,i):!m.value.options.highlightDisabled)},y=f=>typeof m.value=="function"?m.value(f.value):m.value.weekdays?.includes(f.value.getDay()),O=f=>(d.value.enabled||n.weekPicker)&&(!(l.value.count>0)||f.current)&&X()&&!(!f.current&&n.hideOffsetDates)&&!g(f)?W(f):!1,J=f=>{if(Array.isArray(t.value)&&t.value.length===1){const{before:i,after:q}=Bn(+d.value.maxRange,t.value[0]);return s.isBefore(f.value,i)||s.isAfter(f.value,q)}return!1},k=f=>{if(Array.isArray(t.value)&&t.value.length===1){const{before:i,after:q}=Bn(+d.value.minRange,t.value[0]);return it([i,q],t.value[0],f.value)}return!1},U=f=>d.value.enabled&&(d.value.maxRange||d.value.minRange)?d.value.maxRange&&d.value.minRange?J(f)||k(f):d.value.maxRange?J(f):k(f):!1,$=f=>{const{isRangeStart:i,isRangeEnd:q}=u(f),N=d.value.enabled?i||q:!1;return{dp__cell_offset:!f.current,dp__pointer:!n.disabled&&!(!f.current&&n.hideOffsetDates)&&!T(f.value)&&!U(f),dp__cell_disabled:T(f.value)||U(f),dp__cell_highlight:!ce(f)&&(oe(f)||y(f))&&!G(f)&&!N&&!ee(f)&&!(O(f)&&n.weekPicker)&&!q,dp__cell_highlight_active:!ce(f)&&(oe(f)||y(f))&&G(f),dp__today:!n.noToday&&me(f.value,A.value)&&f.current,"dp--past":ke(f.value,A.value),"dp--future":be(f.value,A.value)}},K=f=>({dp__active_date:G(f),dp__date_hover:R(f)}),w=f=>{if(t.value&&!Array.isArray(t.value)){const i=Le(t.value,n.weekStart);return{...x(f),dp__range_start:me(i[0],f.value),dp__range_end:me(i[1],f.value),dp__range_between_week:be(f.value,i[0])&&ke(f.value,i[1])}}return{...x(f)}},ae=f=>{if(t.value&&Array.isArray(t.value)){const i=Le(t.value[0],n.weekStart),q=t.value[1]?Le(t.value[1],n.weekStart):[];return{...x(f),dp__range_start:me(i[0],f.value)||me(q[0],f.value),dp__range_end:me(i[1],f.value)||me(q[1],f.value),dp__range_between_week:be(f.value,i[0])&&ke(f.value,i[1])||be(f.value,q[0])&&ke(f.value,q[1]),dp__range_between:be(f.value,i[1])&&ke(f.value,q[0])}}return{...x(f)}},u=f=>{const i=l.value.count>0?f.current&&D(f)&&X():D(f)&&X(),q=l.value.count>0?f.current&&D(f,!1)&&X():D(f,!1)&&X();return{isRangeStart:i,isRangeEnd:q}},te=f=>{const{isRangeStart:i,isRangeEnd:q}=u(f);return{dp__range_start:i,dp__range_end:q,dp__range_between:O(f),dp__date_hover:me(f.value,p.value)&&!i&&!q&&!n.weekPicker,dp__date_hover_start:C(f,!0),dp__date_hover_end:C(f,!1)}},x=f=>({...te(f),dp__cell_auto_range:I(f),dp__cell_auto_range_start:ee(f),dp__cell_auto_range_end:L(f)}),Y=f=>d.value.enabled?d.value.autoRange?x(f):n.modelAuto?{...K(f),...te(f)}:n.weekPicker?ae(f):te(f):n.weekPicker?w(f):K(f);return{setHoverDate:b,clearHoverDate:B,getDayClassData:f=>n.hideOffsetDates&&!f.current?{}:{...$(f),...Y(f),[n.dayClass?n.dayClass(f.value,n.internalModelValue):""]:!0,...a.value.calendarCell??{}}}},Ge=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:r,defaultedMultiDates:a}=he(t),m=y=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(H(y)):!!pt(y,r.value.disabledDates):!1,c=y=>r.value.maxDate?t.yearPicker?s.getYear(y)>s.getYear(r.value.maxDate):be(y,r.value.maxDate):!1,h=y=>r.value.minDate?t.yearPicker?s.getYear(y)<s.getYear(r.value.minDate):ke(y,r.value.minDate):!1,d=y=>{const O=c(y),J=h(y),k=m(y),$=n.value.months.map(te=>+te).includes(s.getMonth(y)),K=t.disabledWeekDays.length?t.disabledWeekDays.some(te=>+te===s.getDay(y)):!1,w=B(y),ae=s.getYear(y),u=$n(t.yearRange,ae);return!(O||J||k||$||u||K||w)},T=(y,O)=>ke(...xe(r.value.minDate,y,O))||me(...xe(r.value.minDate,y,O)),p=(y,O)=>be(...xe(r.value.maxDate,y,O))||me(...xe(r.value.maxDate,y,O)),A=(y,O,J)=>{let k=!1;return r.value.maxDate&&J&&p(y,O)&&(k=!0),r.value.minDate&&!J&&T(y,O)&&(k=!0),k},b=(y,O,J,k)=>{let U=!1;return k&&(r.value.minDate||r.value.maxDate)?r.value.minDate&&r.value.maxDate?U=A(y,O,J):(r.value.minDate&&T(y,O)||r.value.maxDate&&p(y,O))&&(U=!0):U=!0,U},B=y=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!pt(y,r.value.allowedDates,gn(t.monthPicker,t.yearPicker)):!1,z=y=>!d(y),E=y=>l.value.noDisabledRange?!s.eachDayOfInterval({start:y[0],end:y[1]}).some(J=>z(J)):!0,P=y=>{if(y){const O=s.getYear(y);return O>=+t.yearRange[0]&&O<=t.yearRange[1]}return!0},D=(y,O)=>!!(Array.isArray(y)&&y[O]&&(l.value.maxRange||l.value.minRange)&&P(y[O])),C=(y,O,J=0)=>{if(D(O,J)&&P(y)){const k=s.differenceInCalendarDays(y,O[J]),U=vn(O[J],y),$=U.length===1?0:U.filter(w=>z(w)).length,K=Math.abs(k)-(l.value.minMaxRawRange?0:$);if(l.value.minRange&&l.value.maxRange)return K>=+l.value.minRange&&K<=+l.value.maxRange;if(l.value.minRange)return K>=+l.value.minRange;if(l.value.maxRange)return K<=+l.value.maxRange}return!0},g=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,L=y=>Array.isArray(y)?[y[0]?Lt(y[0]):null,y[1]?Lt(y[1]):null]:Lt(y),I=(y,O,J)=>y.find(k=>+k.hours===s.getHours(O)&&k.minutes==="*"?!0:+k.minutes===s.getMinutes(O)&&+k.hours===s.getHours(O))&&J,ee=(y,O,J)=>{const[k,U]=y,[$,K]=O;return!I(k,$,J)&&!I(U,K,J)&&J},W=(y,O)=>{const J=Array.isArray(O)?O:[O];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?ee(t.disabledTimes,J,y):!J.some(k=>I(t.disabledTimes,k,y)):y},S=(y,O)=>{const J=Array.isArray(O)?[Je(O[0]),O[1]?Je(O[1]):void 0]:Je(O),k=!t.disabledTimes(J);return y&&k},X=(y,O)=>t.disabledTimes?Array.isArray(t.disabledTimes)?W(O,y):S(O,y):O,R=y=>{let O=!0;if(!y||g())return!0;const J=!r.value.minDate&&!r.value.maxDate?L(y):y;return(t.maxTime||r.value.maxDate)&&(O=Sn(t.maxTime,r.value.maxDate,"max",Se(J),O)),(t.minTime||r.value.minDate)&&(O=Sn(t.minTime,r.value.minDate,"min",Se(J),O)),X(y,O)},G=y=>{if(!t.monthPicker)return!0;let O=!0;const J=H(_e(y));if(r.value.minDate&&r.value.maxDate){const k=H(_e(r.value.minDate)),U=H(_e(r.value.maxDate));return be(J,k)&&ke(J,U)||me(J,k)||me(J,U)}if(r.value.minDate){const k=H(_e(r.value.minDate));O=be(J,k)||me(J,k)}if(r.value.maxDate){const k=H(_e(r.value.maxDate));O=ke(J,k)||me(J,k)}return O},oe=e.computed(()=>y=>!t.enableTimePicker||t.ignoreTimeValidation?!0:R(y)),ce=e.computed(()=>y=>t.monthPicker?Array.isArray(y)&&(l.value.enabled||a.value.enabled)?!y.filter(J=>!G(J)).length:G(y):!0);return{isDisabled:z,validateDate:d,validateMonthYearInRange:b,isDateRangeAllowed:E,checkMinMaxRange:C,isValidTime:R,isTimeValid:oe,isMonthValid:ce}},vt=()=>{const t=e.computed(()=>(r,a)=>r?.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),l=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},Or=(t,n,l)=>{const r=e.ref(0),a=e.reactive({[Xe.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Xe.calendar]:!1,[Xe.header]:!1}),m=e.computed(()=>t.monthPicker||t.timePicker),c=A=>{if(t.flow?.length){if(!A&&m.value)return p();a[A]=!0,Object.keys(a).filter(b=>!a[b]).length||p()}},h=()=>{t.flow?.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),p()),t.flow?.length===r.value&&e.nextTick().then(()=>d())},d=()=>{r.value=-1},T=(A,b,...B)=>{t.flow[r.value]===A&&l.value&&l.value[b]?.(...B)},p=(A=0)=>{A&&(r.value+=A),T(Be.month,"toggleMonthPicker",!0),T(Be.year,"toggleYearPicker",!0),T(Be.calendar,"toggleTimePicker",!1,!0),T(Be.time,"toggleTimePicker",!0,!0);const b=t.flow[r.value];(b===Be.hours||b===Be.minutes||b===Be.seconds)&&T(b,"toggleTimePicker",!0,!0,b)};return{childMount:c,updateFlowStep:h,resetFlow:d,handleFlow:p,flowStep:r}},Yr={key:1,class:"dp__input_wrap"},Vr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],_r={key:2,class:"dp--clear-btn"},Ir=["aria-label"],zr=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ht},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:n,emit:l}){const r=l,a=t,{defaultedTextInput:m,defaultedAriaLabels:c,defaultedInline:h,defaultedConfig:d,defaultedRange:T,defaultedMultiDates:p,defaultedUI:A,getDefaultPattern:b,getDefaultStartTime:B}=he(a),{checkMinMaxRange:z}=Ge(a),E=e.ref(),P=e.ref(null),D=e.ref(!1),C=e.ref(!1),g=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!m.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!m.value.enabled,dp__input:!0,dp__input_not_clearable:!a.clearable,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:typeof a.state=="boolean"?a.state:!1,dp__input_invalid:typeof a.state=="boolean"?!a.state:!1,dp__input_focus:D.value||a.isMenuOpen,dp__input_reg:!m.value.enabled,...A.value.input??{}})),L=()=>{r("set-input-date",null),a.clearable&&a.autoApply&&(r("set-empty-date"),E.value=null)},I=w=>{const ae=B();return ea(w,m.value.format??b(),ae??wn({},a.enableSeconds),a.inputValue,C.value,a.formatLocale)},ee=w=>{const{rangeSeparator:ae}=m.value,[u,te]=w.split(`${ae}`);if(u){const x=I(u.trim()),Y=te?I(te.trim()):void 0;if(s.isAfter(x,Y))return;const Q=x&&Y?[x,Y]:[x];z(Y,Q,0)&&(E.value=x?Q:null)}},W=()=>{C.value=!0},S=w=>{if(T.value.enabled)ee(w);else if(p.value.enabled){const ae=w.split(";");E.value=ae.map(u=>I(u.trim())).filter(u=>u)}else E.value=I(w)},X=w=>{const ae=typeof w=="string"?w:w.target?.value;ae!==""?(m.value.openMenu&&!a.isMenuOpen&&r("open"),S(ae),r("set-input-date",E.value)):L(),C.value=!1,r("update:input-value",ae),r("text-input",w,E.value)},R=w=>{m.value.enabled?(S(w.target.value),m.value.enterSubmit&&_t(E.value)&&a.inputValue!==""?(r("set-input-date",E.value,!0),E.value=null):m.value.enterSubmit&&a.inputValue===""&&(E.value=null,r("clear"))):ce(w)},G=(w,ae)=>{m.value.enabled&&m.value.tabSubmit&&!ae&&S(w.target.value),m.value.tabSubmit&&_t(E.value)&&a.inputValue!==""?(r("set-input-date",E.value,!0,!0),E.value=null):m.value.tabSubmit&&a.inputValue===""&&(E.value=null,r("clear",!0))},oe=()=>{D.value=!0,r("focus"),e.nextTick().then(()=>{m.value.enabled&&m.value.selectOnFocus&&P.value?.select()})},ce=w=>{if(Ue(w,d.value,!0),m.value.enabled&&m.value.openMenu&&!h.value.input){if(m.value.openMenu==="open"&&!a.isMenuOpen)return r("open");if(m.value.openMenu==="toggle")return r("toggle")}else m.value.enabled||r("toggle")},y=()=>{r("real-blur"),D.value=!1,(!a.isMenuOpen||h.value.enabled&&h.value.input)&&r("blur"),a.autoApply&&m.value.enabled&&E.value&&!a.isMenuOpen&&(r("set-input-date",E.value),r("select-date"),E.value=null)},O=w=>{Ue(w,d.value,!0),r("clear")},J=()=>{r("close")},k=w=>{if(w.key==="Tab"&&G(w),w.key==="Enter"&&R(w),w.key==="Escape"&&m.value.escClose&&J(),!m.value.enabled){if(w.code==="Tab")return;w.preventDefault()}},U=()=>{P.value?.focus({preventScroll:!0})},$=w=>{E.value=w},K=w=>{w.key===ge.tab&&G(w,!0)};return n({focusInput:U,setParsedDate:$}),(w,ae)=>(e.openBlock(),e.createElementBlock("div",{onClick:ce},[w.$slots.trigger&&!w.$slots["dp-input"]&&!e.unref(h).enabled?e.renderSlot(w.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!w.$slots.trigger&&(!e.unref(h).enabled||e.unref(h).input)?(e.openBlock(),e.createElementBlock("div",Yr,[w.$slots["dp-input"]&&!w.$slots.trigger&&(!e.unref(h).enabled||e.unref(h).enabled&&e.unref(h).input)?e.renderSlot(w.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:X,onEnter:R,onTab:G,onClear:O,onBlur:y,onKeypress:k,onPaste:W,onFocus:oe,openMenu:()=>w.$emit("open"),closeMenu:()=>w.$emit("close"),toggleMenu:()=>w.$emit("toggle")}):e.createCommentVNode("",!0),w.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:w.uid?`dp-input-${w.uid}`:void 0,ref_key:"inputRef",ref:P,"data-test-id":"dp-input",name:w.name,class:e.normalizeClass(g.value),inputmode:e.unref(m).enabled?"text":"none",placeholder:w.placeholder,disabled:w.disabled,readonly:w.readonly,required:w.required,value:t.inputValue,autocomplete:w.autocomplete,"aria-label":e.unref(c)?.input,"aria-disabled":w.disabled||void 0,"aria-invalid":w.state===!1?!0:void 0,onInput:X,onBlur:y,onFocus:oe,onKeypress:k,onKeydown:ae[0]||(ae[0]=u=>k(u)),onPaste:W},null,42,Vr)),e.createElementVNode("div",{onClick:ae[3]||(ae[3]=u=>r("toggle"))},[w.$slots["input-icon"]&&!w.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:ae[1]||(ae[1]=u=>r("toggle"))},[e.renderSlot(w.$slots,"input-icon")])):e.createCommentVNode("",!0),!w.$slots["input-icon"]&&!w.hideInputIcon&&!w.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(tt),{key:1,"aria-label":e.unref(c)?.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:ae[2]||(ae[2]=u=>r("toggle"))},null,8,["aria-label"])):e.createCommentVNode("",!0)]),w.$slots["clear-icon"]&&(w.alwaysClearable||t.inputValue&&w.clearable&&!w.disabled&&!w.readonly)?(e.openBlock(),e.createElementBlock("span",_r,[e.renderSlot(w.$slots,"clear-icon",{clear:O})])):e.createCommentVNode("",!0),!w.$slots["clear-icon"]&&(w.alwaysClearable||w.clearable&&t.inputValue&&!w.disabled&&!w.readonly)?(e.openBlock(),e.createElementBlock("button",{key:3,"aria-label":e.unref(c)?.clearInput,class:"dp--clear-btn",type:"button",onKeydown:ae[4]||(ae[4]=u=>e.unref(Ae)(u,()=>O(u),!0,K)),onClick:ae[5]||(ae[5]=e.withModifiers(u=>O(u),["prevent"]))},[e.createVNode(e.unref(sn),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,Ir)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]))}}),Lr=typeof window<"u"?window:void 0,Xt=()=>{},Hr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Wr=(t,n,l,r)=>{if(!t)return Xt;let a=Xt;const m=e.watch(()=>e.unref(t),h=>{a(),h&&(h.removeEventListener(n,l),h.addEventListener(n,l,r),a=()=>{h.removeEventListener(n,l,r),a=Xt})},{immediate:!0,flush:"post"}),c=()=>{m(),a()};return Hr(c),c},Ur=(t,n,l,r={})=>{const{window:a=Lr,event:m="pointerdown"}=r;return a?Wr(a,m,h=>{const d=De(t),T=De(n);!d||!T||d===h.target||h.composedPath().includes(d)||h.composedPath().includes(T)||l(h)},{passive:!0}):void 0},jr=["data-dp-mobile"],xr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...ht},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),c=e.ref(!1),h=e.toRef(a,"modelValue"),d=e.toRef(a,"timezone"),T=e.ref(null),p=e.ref(null),A=e.ref(null),b=e.ref(!1),B=e.ref(null),z=e.ref(!1),E=e.ref(!1),P=e.ref(!1),D=e.ref(!1),{setMenuFocused:C,setShiftKey:g}=Tn(),{clearArrowNav:L}=Ke(),{validateDate:I,isValidTime:ee}=Ge(a),{defaultedTransitions:W,defaultedTextInput:S,defaultedInline:X,defaultedConfig:R,defaultedRange:G,defaultedMultiDates:oe}=he(a),{menuTransition:ce,showTransition:y}=ft(W),{isMobile:O}=In(R),J=e.getCurrentInstance();e.onMounted(()=>{Q(a.modelValue),e.nextTick().then(()=>{X.value.enabled||(u(B.value)?.addEventListener("scroll",j),window?.addEventListener("resize",ne))}),X.value.enabled&&(c.value=!0),window?.addEventListener("keyup",de),window?.addEventListener("keydown",we)}),e.onUnmounted(()=>{X.value.enabled||(u(B.value)?.removeEventListener("scroll",j),window?.removeEventListener("resize",ne)),window?.removeEventListener("keyup",de),window?.removeEventListener("keydown",we)});const k=Ne(m,"all",a.presetDates),U=Ne(m,"input");e.watch([h,d],()=>{Q(h.value)},{deep:!0});const{openOnTop:$,menuStyle:K,xCorrect:w,setMenuPosition:ae,getScrollableParent:u,shadowRender:te}=Pr({menuRef:T,menuRefInner:p,inputRef:A,pickerWrapperRef:B,inline:X,emit:r,props:a,slots:m}),{inputValue:x,internalModelValue:Y,parseExternalModelValue:Q,emitModelValue:f,formatInputValue:i,checkBeforeEmit:q}=Ca(r,a,{isInputFocused:b,isTextInputDate:D}),N=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:X.value.enabled,"dp--flex-display-collapsed":P.value,dp__flex_display_with_input:X.value.input})),fe=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),pe=e.computed(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||X.value.enabled}:{}),F=e.computed(()=>({class:"dp__outer_menu_wrap"})),o=e.computed(()=>X.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),V=()=>A.value?.$el?.getBoundingClientRect()??{width:0,left:0,right:0},j=()=>{c.value&&(R.value.closeOnScroll?Re():ae())},ne=()=>{c.value&&ae();const _=p.value?.$el.getBoundingClientRect().width??0;P.value=document.body.offsetWidth<=_},de=_=>{_.key==="Tab"&&!X.value.enabled&&!a.teleport&&R.value.tabOutClosesMenu&&(B.value.contains(document.activeElement)||Re()),E.value=_.shiftKey},we=_=>{E.value=_.shiftKey},Me=()=>{!a.disabled&&!a.readonly&&(te(J,zn,a),ae(!1),c.value=!0,c.value&&r("open"),c.value||Ee(),Q(a.modelValue))},Oe=()=>{x.value="",Ee(),p.value?.onValueCleared(),A.value?.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),R.value.closeOnClearValue&&Re()},Ze=()=>{const _=Y.value;return!_||!Array.isArray(_)&&I(_)?!0:Array.isArray(_)?oe.value.enabled||_.length===2&&I(_[0])&&I(_[1])?!0:G.value.partialRange&&!a.timePicker?I(_[0]):!1:!1},M=()=>{q()&&Ze()?(f(),Re()):r("invalid-select",Y.value)},le=_=>{se(),f(),R.value.closeOnAutoApply&&!_&&Re()},se=()=>{A.value&&S.value.enabled&&A.value.setParsedDate(Y.value)},Qe=(_=!1)=>{a.autoApply&&ee(Y.value)&&Ze()&&(G.value.enabled&&Array.isArray(Y.value)?(G.value.partialRange||Y.value.length===2)&&le(_):le(_))},Ee=()=>{S.value.enabled||(Y.value=null)},Re=(_=!1)=>{_&&Y.value&&R.value.setDateOnMenuClose&&M(),X.value.enabled||(c.value&&(c.value=!1,w.value=!1,C(!1),g(!1),L(),r("closed"),x.value&&Q(h.value)),Ee(),r("blur"),p.value?.$el?.remove())},Zt=(_,re,ue=!1)=>{if(!_){Y.value=null;return}const We=Array.isArray(_)?!_.some(Fe=>!I(Fe)):I(_),ze=ee(_);We&&ze?(D.value=!0,Y.value=_,re?(z.value=ue,M(),r("text-submit")):a.autoApply&&Qe(!0),e.nextTick().then(()=>{D.value=!1})):r("invalid-date",_)},Ft=()=>{a.autoApply&&ee(Y.value)&&f(),se()},wt=()=>c.value?Re():Me(),en=_=>{Y.value=_},tn=()=>{S.value.enabled&&(b.value=!0,i()),r("focus")},nn=()=>{S.value.enabled&&(b.value=!1,Q(a.modelValue),z.value&&Jn(B.value,E.value)?.focus()),r("blur")},an=_=>{p.value&&p.value.updateMonthYear(0,{month:fn(_.month),year:fn(_.year)})},rn=_=>{Q(_??a.modelValue)},Ln=(_,re)=>{p.value?.switchView(_,re)},v=(_,re)=>R.value.onClickOutside?R.value.onClickOutside(_,re):Re(!0),Z=(_=0)=>{p.value?.handleFlow(_)},ie=()=>T;return Ur(T,A,_=>v(Ze,_)),n({closeMenu:Re,selectDate:M,clearValue:Oe,openMenu:Me,onScroll:j,formatInputValue:i,updateInternalModelValue:en,setMonthYear:an,parseModel:rn,switchView:Ln,toggleMenu:wt,handleFlow:Z,getDpWrapMenuRef:ie}),(_,re)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:B,class:e.normalizeClass(N.value),"data-datepicker-instance":"","data-dp-mobile":e.unref(O)},[e.createVNode(zr,e.mergeProps({ref_key:"inputRef",ref:A,"input-value":e.unref(x),"onUpdate:inputValue":re[0]||(re[0]=ue=>e.isRef(x)?x.value=ue:null),"is-menu-open":c.value},_.$props,{onClear:Oe,onOpen:Me,onSetInputDate:Zt,onSetEmptyDate:e.unref(f),onSelectDate:M,onToggle:wt,onClose:Re,onFocus:tn,onBlur:nn,onRealBlur:re[1]||(re[1]=ue=>b.value=!1),onTextInput:re[2]||(re[2]=ue=>_.$emit("text-input",ue))}),e.createSlots({_:2},[e.renderList(e.unref(U),(ue,We)=>({name:ue,fn:e.withCtx(ze=>[e.renderSlot(_.$slots,ue,e.normalizeProps(e.guardReactiveProps(ze)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(_.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(pe.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(ce)(e.unref($)),css:e.unref(y)&&!e.unref(X).enabled},{default:e.withCtx(()=>[c.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:T},F.value,{class:{"dp--menu-wrapper":!e.unref(X).enabled},style:e.unref(X).enabled?void 0:e.unref(K)}),[e.createVNode(zn,e.mergeProps({ref_key:"dpMenuRef",ref:p},_.$props,{"internal-model-value":e.unref(Y),"onUpdate:internalModelValue":re[3]||(re[3]=ue=>e.isRef(Y)?Y.value=ue:null),class:{[fe.value]:!0,"dp--menu-wrapper":_.teleport},"open-on-top":e.unref($),"no-overlay-focus":o.value,collapse:P.value,"get-input-rect":V,"is-text-input-date":D.value,onClosePicker:Re,onSelectDate:M,onAutoApply:Qe,onTimeUpdate:Ft,onFlowStep:re[4]||(re[4]=ue=>_.$emit("flow-step",ue)),onUpdateMonthYear:re[5]||(re[5]=ue=>_.$emit("update-month-year",ue)),onInvalidSelect:re[6]||(re[6]=ue=>_.$emit("invalid-select",e.unref(Y))),onAutoApplyInvalid:re[7]||(re[7]=ue=>_.$emit("invalid-select",ue)),onInvalidFixedRange:re[8]||(re[8]=ue=>_.$emit("invalid-fixed-range",ue)),onRecalculatePosition:e.unref(ae),onTooltipOpen:re[9]||(re[9]=ue=>_.$emit("tooltip-open",ue)),onTooltipClose:re[10]||(re[10]=ue=>_.$emit("tooltip-close",ue)),onTimePickerOpen:re[11]||(re[11]=ue=>_.$emit("time-picker-open",ue)),onTimePickerClose:re[12]||(re[12]=ue=>_.$emit("time-picker-close",ue)),onAmPmChange:re[13]||(re[13]=ue=>_.$emit("am-pm-change",ue)),onRangeStart:re[14]||(re[14]=ue=>_.$emit("range-start",ue)),onRangeEnd:re[15]||(re[15]=ue=>_.$emit("range-end",ue)),onDateUpdate:re[16]||(re[16]=ue=>_.$emit("date-update",ue)),onInvalidDate:re[17]||(re[17]=ue=>_.$emit("invalid-date",ue)),onOverlayToggle:re[18]||(re[18]=ue=>_.$emit("overlay-toggle",ue)),onMenuBlur:re[19]||(re[19]=ue=>_.$emit("blur"))}),e.createSlots({_:2},[e.renderList(e.unref(k),(ue,We)=>({name:ue,fn:e.withCtx(ze=>[e.renderSlot(_.$slots,ue,e.normalizeProps(e.guardReactiveProps({...ze})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,jr))}}),Jt=(()=>{const t=xr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(Jt[t]=n)}),Jt});
